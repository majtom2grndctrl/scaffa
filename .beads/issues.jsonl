{"id":"skaffa-0fp","title":"Packaging: choose + integrate Electron packager (Forge vs electron-builder)","description":"## Goal\nAdd an Electron packaging toolchain so we can produce unsigned cross-platform app builds and (later) bundle sidecar binaries.\n\n## Context\n- Repo currently runs dev via `pnpm dev` and builds JS bundles into `dist/`.\n- No packager config present yet (no Forge/electron-builder).\n\n## Scope\n- Decide between Electron Forge vs electron-builder.\n- Add minimal config + scripts to build packaged apps for macOS/Windows/Linux (unsigned).\n- Ensure there is a documented way to include extra resources (future: Rust sidecar binaries).\n\n## Acceptance\n- `pnpm package` (or equivalent) produces a runnable packaged app on current OS.\n- Packaging config exists and is documented in `docs/scaffa_development_guide.md` (or a release doc).\n- No notarization/codesigning required yet (explicitly deferred).\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T07:04:19.64806-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T07:04:19.64806-08:00","labels":["infra","packaging","release"],"dependencies":[{"issue_id":"skaffa-0fp","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T07:05:38.536502-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-0fp","depends_on_id":"skaffa-arx","type":"relates-to","created_at":"2026-01-14T07:05:48.928999-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-0l9","title":"Registry: MUI component registry module","description":"Create a Scaffa registry module for Material UI (MUI) components. Provide a starter registry with stable typeIds and prop metadata, and include ComponentImplementationHint package specifiers for instrumentation (e.g. @mui/material/Button).","acceptance_criteria":"- Module contributes a ComponentRegistry via ctx.registry.contributeRegistry.\\n- Registry includes a starter set of MUI components (e.g., Button, TextField, Select, Checkbox, Card, Typography) with editable/inspect-only prop metadata.\\n- Each entry includes implementation hints with kind: package and @mui/material/* specifiers (exportName where needed).\\n- Module entrypoint is added to scripts/build-workspace-modules.mjs.\\n- Short usage snippet added (module README or docs) showing scaffa.config.js usage.","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T19:36:49.613376-08:00","created_by":"Dan Hiester","updated_at":"2026-01-17T19:36:49.613376-08:00","labels":["modules","mui","registry"]}
{"id":"skaffa-0rp","title":"Preview: enforce navigation + window.open policy for BrowserView sessions","description":"## Goal\nPrevent preview runtimes from spawning new Electron windows or escaping host navigation policy.\n\n## v0 Policy Decisions\n- **Never open new Electron windows** from preview content.\n- **Preview Mode (deferred):** any user-driven navigation to an *external* origin must open in the **system default browser**.\n  - Applies to `window.open(...)`, `\u003ca target=\"_blank\"\u003e`, and top-frame navigations to external origins.\n  - In-app navigation (same origin as the session target) remains inside the preview.\n- **Editor View (v0):** clicks are consumed for selection (click-to-select), so link clicks should not navigate; they just inspect/select.\n  - Programmatic external navigation should still be blocked/redirected by host policy.\n\n## Scope\n- Main: for preview `WebContents` (BrowserView), implement:\n  - `setWindowOpenHandler`:\n    - deny window creation\n    - `shell.openExternal(url)` for external URLs when appropriate (Preview Mode)\n  - `will-navigate` (or equivalent) to prevent top-frame navigation to external origins and open externally instead.\n- Add clear, prefixed logs when blocking/redirecting.\n\n## Acceptance\n- Preview content never spawns a new Electron window.\n- In Preview Mode, external links open in the system browser; preview stays on the app’s origin.\n- In Editor View, link clicks do not navigate (they are consumed for selection).\n- Behavior is logged clearly when blocked/redirected.\n\n## Notes\n- Session purpose (editor vs preview) is deferred (see `scaffa-5ss`, `scaffa-u9r`). Until then, implement safe defaults (deny new windows; external navigations openExternal or are blocked per agreed policy).\n","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T17:27:27.296663-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T16:15:29.191559-08:00","closed_at":"2026-01-15T16:15:29.191559-08:00","close_reason":"Closed","labels":["electron","preview","security"]}
{"id":"skaffa-170","title":"Sidecar: workspace sidecar scaffold + main supervisor","description":"## Goal\nAdd a Rust workspace sidecar and a main-process supervisor to offload file-heavy / compute-heavy operations, without changing extension-facing APIs yet.\n\n## Context\n- `docs/scaffa_sidecar_process.md` defines intended boundaries (main owns writes; sidecar is a service).\n- Extensions should not access filesystem directly; main mediates via `WorkspaceAPI` (`scaffa-xhj`).\n\n## Scope\n- Add a Rust crate for the workspace sidecar (name/path TBD) that speaks a minimal request/response protocol over stdio.\n- Implement a minimal command set (start small):\n  - `ping` (health)\n  - `readFile` (workspace-relative path)\n  - (optional) `stat` or `hashFile` if needed for caching\n- Add a main-process `SidecarManager` that:\n  - resolves binary path via `SCAFFA_SIDECAR_PATH` first, then a dev-default location\n  - spawns, monitors, and restarts with backoff\n  - enforces per-request timeouts and returns structured errors\n- Add an internal `WorkspaceBackend` interface and a sidecar-backed implementation so Scaffa core can swap implementations (Node backend remains the fallback).\n\n## Acceptance\n- With sidecar enabled, main can successfully call `ping` and `readFile` via `SidecarManager`.\n- If the sidecar binary is missing/unlaunchable, Scaffa falls back to the Node backend and logs a clear warning once.\n- If the sidecar crashes mid-session, main detects it, restarts it, and requests fail fast with actionable errors during downtime.\n- No packaging integration work in this ticket.\n- No CI matrix/cross-platform validation work in this ticket.\n\n## Deferred\n- CI cross-platform validation (`scaffa-arx`).\n- Packager integration / bundling (`scaffa-0fp`).\n- Codesigning/notarization.\n- Protocol version negotiation.\n","status":"open","priority":2,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T07:04:30.1406-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T07:21:41.752099-08:00","labels":["architecture","rust","sidecar","workspace"],"dependencies":[{"issue_id":"skaffa-170","depends_on_id":"skaffa-0fp","type":"relates-to","created_at":"2026-01-14T07:05:38.539328-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-xhj","type":"relates-to","created_at":"2026-01-14T07:05:59.327105-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-arx","type":"relates-to","created_at":"2026-01-14T07:22:06.459029-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.1","type":"relates-to","created_at":"2026-01-14T08:20:16.648089-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.3","type":"relates-to","created_at":"2026-01-14T08:20:16.842992-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.4","type":"relates-to","created_at":"2026-01-14T08:20:17.055138-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.5","type":"relates-to","created_at":"2026-01-14T08:20:17.255661-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.6","type":"relates-to","created_at":"2026-01-14T08:20:17.457115-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.7","type":"relates-to","created_at":"2026-01-14T08:20:17.657339-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-170","depends_on_id":"skaffa-170.8","type":"relates-to","created_at":"2026-01-14T08:20:17.85857-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.1","title":"Sidecar: define stdio protocol + message schemas","description":"## Goal\nDefine the exact request/response wire format for the workspace sidecar over stdio, including error shapes and cancellation/timeout semantics (owned by main).\n\n## Scope\n- Document message envelope (id/method/params) and response (ok/result | ok=false/error).\n- Define error codes (e.g., invalid_path, not_found, timeout, internal).\n- Specify newline-delimited JSON framing rules and max message size guidance.\n\n## Acceptance\n- A small spec exists (doc section or shared types) that both Rust and main can implement unambiguously.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T07:58:23.494797-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T07:58:23.494797-08:00","dependencies":[{"issue_id":"skaffa-170.1","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:16.6498-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.2","title":"Sidecar: define stdio protocol + message schemas","description":"## Goal\nDefine the exact request/response wire format for the workspace sidecar over stdio, including error shapes and cancellation/timeout semantics (owned by main).\n\n## Scope\n- Document message envelope (id/method/params) and response (ok/result | ok=false/error).\n- Define error codes (e.g., invalid_path, not_found, timeout, internal).\n- Specify newline-delimited JSON framing rules and max message size guidance.\n\n## Acceptance\n- A small spec exists (doc section or shared types) that both Rust and main can implement unambiguously.\n","status":"tombstone","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T07:59:24.065919-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:03:05.823686-08:00","deleted_at":"2026-01-14T08:03:05.823686-08:00","deleted_by":"Dan Hiester","delete_reason":"delete","original_type":"task"}
{"id":"skaffa-170.3","title":"Sidecar: Rust crate scaffold (ping + readFile)","description":"## Goal\nCreate the initial Rust workspace-sidecar binary with a minimal stdio request/response loop.\n\n## Scope\n- Add crate + binary entrypoint.\n- Implement handlers:\n  - `ping` → returns version/build info\n  - `readFile` → reads a workspace-relative file and returns UTF-8 text (or a structured error)\n- Enforce path safety (no traversal outside workspace root).\n\n## Acceptance\n- Sidecar binary runs and can service `ping` and `readFile` locally via stdin/stdout.\n- Errors are structured and match the protocol spec (`scaffa-170.1`).\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:03:36.939822-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:03:36.939822-08:00","dependencies":[{"issue_id":"skaffa-170.3","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:16.84453-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.4","title":"Sidecar: main SidecarManager (spawn/restart, timeouts)","description":"## Goal\nImplement a main-process supervisor for the workspace sidecar with robust lifecycle management and a request API.\n\n## Scope\n- Resolve binary path: `SCAFFA_SIDECAR_PATH` then dev-default path.\n- Spawn child process and connect stdio.\n- Request correlation (id map), per-request timeouts, and structured error mapping.\n- Crash detection + restart with backoff.\n\n## Acceptance\n- Main can call `ping` and `readFile` via `SidecarManager` (using a fake sidecar or real binary).\n- When the sidecar exits unexpectedly, `SidecarManager` reports failures quickly and attempts restart with backoff.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:13:59.432-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:13:59.432-08:00","dependencies":[{"issue_id":"skaffa-170.4","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:17.056603-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.5","title":"Sidecar: introduce WorkspaceBackend abstraction (Node default)","description":"## Goal\nAdd an internal `WorkspaceBackend` interface so Scaffa can switch between Node-based workspace IO and sidecar-backed implementations without changing external APIs.\n\n## Scope\n- Define `WorkspaceBackend` surface for the subset we need first (e.g. `readFile`, `watch`, maybe `glob/search` later).\n- Implement Node backend using existing Node primitives.\n\n## Acceptance\n- Main can be configured to use the Node backend explicitly (default).\n- No changes required for renderer/extension-host call sites yet.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:14:29.515612-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:14:29.515612-08:00","dependencies":[{"issue_id":"skaffa-170.5","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:17.257156-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.6","title":"Sidecar: sidecar-backed WorkspaceBackend implementation + fallback","description":"## Goal\nImplement a sidecar-backed `WorkspaceBackend` that uses `SidecarManager` for supported operations and falls back to Node when sidecar is unavailable.\n\n## Scope\n- Implement `readFile` via sidecar.\n- Define fallback policy: missing binary, spawn failure, request timeout, crash.\n- Log a single clear warning when falling back (avoid log spam).\n\n## Acceptance\n- With sidecar enabled and working, `readFile` uses sidecar path.\n- With sidecar missing/broken, Scaffa continues to function using Node backend with a clear warning.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:14:59.61987-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:14:59.61987-08:00","dependencies":[{"issue_id":"skaffa-170.6","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:17.458662-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.7","title":"Sidecar: integration test harness (fake sidecar)","description":"## Goal\nAdd automated coverage for `SidecarManager` lifecycle and request handling without requiring a real Rust binary in the test loop.\n\n## Scope\n- Implement a tiny Node-based fake sidecar process used only for tests (speaks the stdio protocol).\n- Test: request correlation, timeouts, crash/restart behavior, invalid JSON handling.\n\n## Acceptance\n- Tests run in CI (when added) without platform-specific dependencies.\n","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:15:29.720343-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:15:29.720343-08:00","dependencies":[{"issue_id":"skaffa-170.7","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:17.658803-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-170.8","title":"Sidecar: wiring + feature flag in workspace open flow","description":"## Goal\nWire sidecar startup into the workspace lifecycle behind an explicit flag so we can iterate safely.\n\n## Scope\n- Add config/flag for enabling sidecar (env var or config file field).\n- Start sidecar when a workspace is opened (dev), stop on workspace close/app quit.\n\n## Acceptance\n- Sidecar is off by default.\n- Enabling the flag starts sidecar on workspace open and shuts it down cleanly.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T08:15:59.842186-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T08:15:59.842186-08:00","dependencies":[{"issue_id":"skaffa-170.8","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T08:20:17.860103-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-1bg","title":"Layout registry module: register layout primitives with component registry","description":"## Goal\nExpose the layout primitives to Scaffa via a registry module with stable typeIds and prop metadata.\n\n## Scope\n- New extension module at `extensions/layout/module` that calls ctx.registry.contributeRegistry.\n- Registry entries for layout.box, layout.row, layout.stack.\n- Prop metadata enumerates supported values (scale values only, full axis variant set):\n  - gap 0..16 plus auto/space-between, and an explicit unset option (Row/Stack only)\n  - padding/margin axis variants (p, px, py, pt, pr, pb, pl, m, mx, my, mt, mr, mb, ml), each including explicit unset\n  - align: start | center | end | stretch (Row/Stack only)\n  - justify: start | center | end | between | around | evenly (Row/Stack only)\n  - wrap: nowrap | wrap | wrap-reverse (Row/Stack only)\n  - direction: normal | reverse (Row -\u003e row/row-reverse, Stack -\u003e column/column-reverse)\n  - alignSelf: start | center | end | stretch (Box only)\n- ComponentImplementationHints reference named exports from `@scaffa/layout-primitives-react`.\n- Add module to scripts/build-workspace-modules.mjs so it ships with the workspace modules build.","acceptance_criteria":"- Module contributes a ComponentRegistry with three entries and stable typeIds.\n- Prop metadata matches the component props and enumerates valid values.\n- Implementation hints resolve to the layout package exports.\n- Module is included in workspace module build and can be enabled via scaffa.config.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:15:19.322328-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T14:50:25.28044-08:00","closed_at":"2026-01-18T14:50:25.28044-08:00","close_reason":"Closed","labels":["layout","modules","registry"],"dependencies":[{"issue_id":"skaffa-1bg","depends_on_id":"skaffa-9rm","type":"blocks","created_at":"2026-01-17T23:15:19.330143-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-1wk","title":"_scratch: test issue","description":"## Acceptance Criteria\n- ok","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-10T11:32:52.755395-08:00","created_by":"dhiester","updated_at":"2026-01-10T11:33:08.386002-08:00","deleted_at":"2026-01-10T11:33:08.386002-08:00","deleted_by":"dhiester","delete_reason":"delete","original_type":"task","ephemeral":true}
{"id":"skaffa-33i","title":"Inspector: show baseline prop values when runtime provides props snapshot","description":"## Goal\nImprove Inspector UX by showing current/baseline prop values when available from runtime.\n\n## Scope\n- Define/confirm what keys in `InstanceDescriptor.props` may contain (JSON-only, ideally filtered to registry prop keys).\n- Renderer: for inspect-only and editable props, prefer baseline from `selectedInstance.props[propName]` when no override exists.\n- Runtime adapter: (optional) provide `props` snapshot for the selected instance when feasible; omit non-serializable values.\n\n## Acceptance\n- When runtime provides `props`, Inspector displays baseline values for non-overridden props.\n- When runtime does not provide `props`, Inspector continues to show “unknown baseline” behavior.\n","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T17:27:37.619406-08:00","created_by":"Dan Hiester","updated_at":"2026-01-19T17:21:52.802903-08:00","closed_at":"2026-01-19T17:21:52.802903-08:00","close_reason":"Closed","labels":["inspector","runtime-adapter"]}
{"id":"skaffa-39v","title":"Docs: Fill missing architecture contracts","description":"## Goal\nUnblock detailed implementation ticket-writing by documenting the missing architectural contracts referenced in `docs/index.md`.\n\n## Scope\n- Runtime adapter contract (framework-agnostic)\n- Component registry schema\n- Inspector UX rules/semantics\n- Preview session protocol (app/component/variant)\n- Iteration Deck integration sketch (conceptual)\n- Project Graph schema + patch/update protocol\n- v0 in-scope deliverables + first user journey\n- Override model + persistence/serialization\n- IPC/sequence diagrams for key flows\n\n## Success Criteria\n- Each scope item is documented (new page or `docs/index.md` section) and linked from `docs/index.md`.\n- Contracts are specific enough to write implementation tickets without inventing semantics during coding.\n- Definitions stay framework-agnostic; React can be used as the first concrete example where needed.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T11:34:15.923451-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:39.110575-08:00","closed_at":"2026-01-10T14:59:39.110575-08:00","close_reason":"All child doc tickets completed"}
{"id":"skaffa-39v.1","title":"Docs: Runtime adapter contract","description":"## Context\n`docs/index.md` calls out runtime adapters (instance identification, click-to-select, applying prop overrides) but doesn't define the required contract or boundaries.\n\n## Work\n- Define a framework-agnostic runtime adapter contract: required capabilities, responsibilities, and data shapes.\n- Clarify boundaries vs component registries and the extension host.\n- Include a React-first example mapping (as an example, not as the contract).\n\n## Acceptance Criteria\n- Documents required adapter responsibilities: instance registration/identity, selection signaling, applying/removing overrides, and lifecycle/teardown.\n- Defines the minimal data shapes (stable IDs, type IDs, prop addressing) used across the boundary.\n- Specifies where the contract lives (new doc page or section) and links it from `docs/index.md`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:35:01.564397-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.974362-08:00","closed_at":"2026-01-10T14:59:22.974362-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.1","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:35:01.5669-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.2","title":"Docs: Component registry schema","description":"## Context\n`docs/index.md` references registries and editable prop metadata, but the schema isn't formally defined. This blocks Inspector behavior and extension interoperability.\n\n## Work\n- Define a formal component registry schema (TypeScript types and/or Zod schema) for component metadata.\n- Cover prop editability (editable vs inspect-only), control types, defaults, constraints, labels, grouping, and stable type IDs.\n- Document how module registries compose and how project config overrides layer on top.\n\n## Acceptance Criteria\n- Provides a canonical schema for component registry entries, including prop metadata fields needed by the Inspector.\n- Includes examples for at least 2 component types and common control patterns (enum, boolean, string, slot/children, etc.).\n- Describes composition/override order (module -\u003e project overrides) and links the doc from `docs/index.md`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:35:20.073174-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.977091-08:00","closed_at":"2026-01-10T14:59:22.977091-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.2","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:35:20.075457-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.3","title":"Docs: Inspector UX rules and semantics","description":"## Context\nScaffa's guiding principle depends on consistent Inspector semantics across core + extensions, but the UX rules aren't written down.\n\n## Work\n- Define the Inspector's visual language and semantics: editable vs non-editable, inspect-only, and opaque values.\n- Define how overrides are represented vs defaults (and how reset/clear works).\n- Define escalation paths (e.g. \"inspect source\" now; \"promote to code\" later) and extension consistency rules.\n\n## Acceptance Criteria\n- Documents the semantics and UI affordances for: editability state, override state, and source/escape-hatch actions.\n- Defines consistency constraints so extensions contribute inspector sections without inventing new meanings.\n- Links to related contracts (registry schema + overrides model) and is linked from `docs/index.md`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:35:36.629482-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.979303-08:00","closed_at":"2026-01-10T14:59:22.979303-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.3","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:35:36.63282-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.4","title":"Docs: Preview session protocol","description":"## Context\n`docs/index.md` establishes preview sessions as a foundational abstraction (app/component/future variant), but the protocol and lifecycle aren't precisely defined.\n\n## Work\n- Define preview session types and lifecycle (create/start/stop/dispose).\n- Define selection, override, and refresh flows for a session.\n- Clarify responsibilities across main/renderer/preload/extension host/runtime adapter.\n\n## Acceptance Criteria\n- Precisely defines session types (app, component, future variant) and required lifecycle events/state.\n- Defines selection + override flows (who emits, who stores, who applies, how refresh/reconnect behaves).\n- Document is linked from `docs/index.md` and references the runtime adapter + overrides model docs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:35:53.027069-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.982093-08:00","closed_at":"2026-01-10T14:59:22.982093-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.4","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:35:53.030647-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.5","title":"Docs: Iteration Deck integration sketch (conceptual)","description":"## Context\nIteration Deck is explicitly deferred for v0, but the architecture needs an alignment sketch so v0 contracts don't block variants/snapshots later.\n\n## Work\n- Write a conceptual integration sketch for Iteration Deck: variants, snapshots, comparisons.\n- Show how it layers on top of instance editing, registries, and preview sessions.\n- Call out any required v0 constraints/invariants to preserve compatibility.\n\n## Acceptance Criteria\n- Provides a high-level conceptual model (no implementation) for variants/snapshots/comparisons.\n- Identifies which v0 contracts must be designed to support it (sessions, overrides, registries, graph).\n- Document is linked from `docs/index.md` (either in Deferred section or adjacent architecture sections).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:36:09.665714-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.984607-08:00","closed_at":"2026-01-10T14:59:22.984607-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.5","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:36:09.668075-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.6","title":"Docs: Define v0 in-scope deliverables + first user journey","description":"## Context\n`docs/index.md` has architectural pillars and an explicit out-of-scope list, but it doesn't clearly define what *is* in scope for v0 or the end-to-end user journey.\n\n## Work\n- Add a v0 scope section: what's in, what's out, and success definition.\n- Write the first critical user journey narrative (open workspace -\u003e start preview -\u003e select instance -\u003e edit props -\u003e see overrides -\u003e persist/share results).\n- Ensure it aligns with the existing pillars and Deferred list.\n\n## Acceptance Criteria\n- Documents v0 scope with clear deliverables (enough to drive ticket-writing).\n- Includes at least one end-to-end user journey that exercises preview, selection, inspector editing, and overrides.\n- Cross-references related contract docs and is linked from `docs/index.md`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:36:26.942463-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.986624-08:00","closed_at":"2026-01-10T14:59:22.986624-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.6","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:36:26.944568-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.7","title":"Docs: Project Graph schema + patch/update protocol","description":"## Context\n`docs/index.md` names the Project Graph as canonical truth and `docs/scaffa_extension_api.md` references `GraphQuery`/`GraphPatch`, but the graph entity model and patch semantics aren't defined.\n\n## Work\n- Define the Project Graph entity schema: routes, component types, instances, and relationships.\n- Define ID strategy (stable type IDs, stable instance IDs where possible) and versioning.\n- Define patch/update protocol semantics (incremental updates, ordering, delivery guarantees) and example patches.\n\n## Acceptance Criteria\n- Documents the graph's core entities + relationships, including required fields for v0.\n- Defines patch semantics (what a patch can express, minimal guarantees, and example payloads).\n- Clarifies producer/consumer roles (adapters produce patches; extensions consume) and links from `docs/index.md`.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:36:43.014417-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.988529-08:00","closed_at":"2026-01-10T14:59:22.988529-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.7","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:36:43.016655-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.8","title":"Docs: Override model (non-destructive) + persistence/serialization","description":"## Context\n`docs/index.md` says edits are \"non-destructive overrides\" applied to preview sessions, but the data model, persistence strategy, and invariants aren't specified.\n\n## Work\n- Define the override data model: addressing (instance + prop path), values, and precedence (defaults vs overrides vs config).\n- Define lifecycle operations: set/update, reset/clear, bulk clear, and conflict behavior when instances change.\n- Define persistence/serialization strategy for v0 (ephemeral vs saved, file format/location if saved) and how overrides are diffable/transactional.\n\n## Acceptance Criteria\n- Documents the canonical override model and precedence rules.\n- Specifies persistence/serialization strategy and how overrides remain inspectable/reversible.\n- Linked from `docs/index.md` and referenced by Preview Session Protocol + Inspector UX docs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:37:00.422374-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.990482-08:00","closed_at":"2026-01-10T14:59:22.990482-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.8","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:37:00.424547-08:00","created_by":"dhiester"}]}
{"id":"skaffa-39v.9","title":"Docs: IPC boundaries + key sequence diagrams","description":"## Context\nThe multi-process model is defined at a high level in `docs/index.md`, but the concrete cross-process flows (preview start, selection, overrides, graph patches) aren't captured as diagrams.\n\n## Work\n- Add 2–4 sequence diagrams covering the critical flows:\n  - Start preview session (app/component)\n  - Selection (click-to-select) flowing to Inspector\n  - Apply override and see it reflected in preview\n  - Graph patch propagation to consumers\n- Clearly label process boundaries (main, preload, renderer, extension host, preview runtime) and responsibilities.\n\n## Acceptance Criteria\n- Contains sequence diagrams with named participants and explicit message directions across process boundaries.\n- Diagrams align with the Preview Session Protocol + Runtime Adapter + Project Graph docs.\n- Linked from `docs/index.md` (or embedded there if that's preferred).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T11:37:18.465341-08:00","created_by":"dhiester","updated_at":"2026-01-10T14:59:22.992257-08:00","closed_at":"2026-01-10T14:59:22.992257-08:00","close_reason":"Docs written and linked from docs/index.md","dependencies":[{"issue_id":"skaffa-39v.9","depends_on_id":"skaffa-39v","type":"parent-child","created_at":"2026-01-10T11:37:18.467814-08:00","created_by":"dhiester"}]}
{"id":"skaffa-3nm","title":"Graph: apply extension-host graph snapshots in main","description":"## Summary\nMain process currently ignores `graph-snapshot` messages from the extension host, so graph-dependent UI stays empty unless patches arrive. Implement snapshot ingestion so initial graph state populates.\n\n## Context\n- Extension host sends `graph-snapshot` from `src/extension-host/module-loader.ts` when a graph producer initializes.\n- Main currently logs and ignores snapshots in `src/main/extension-host/extension-host-manager.ts`.\n\n## Work\n- Define v0 semantics for `graph-snapshot` ingestion (recommended: treat as full snapshot replacement for that producer, translated into store updates).\n- Implement handling in `src/main/extension-host/extension-host-manager.ts` to update `src/main/graph/graph-store.ts` and broadcast changes to renderer (via existing graph IPC/events).\n- Ensure this plays well with subsequent `graph-patch` messages.\n\n## Notes\n- This may require coordinating revisions (see related ticket about global revision assignment).\n","acceptance_criteria":"- A graph producer snapshot results in `graph:getSnapshot` returning the producer's nodes/edges without requiring patches.\n- Routes panel and Project Graph Snapshot panel can populate from snapshot-only producers.\n- Behavior is deterministic across restart (initial state comes from producer snapshots).\n- No renderer crashes if snapshots arrive before renderer store initializes.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T16:56:50.415301-08:00","created_by":"Dan Hiester","updated_at":"2026-01-22T15:21:18.147159-08:00","closed_at":"2026-01-22T15:21:18.147159-08:00","close_reason":"Closed","labels":["extension-host","graph","ipc"]}
{"id":"skaffa-3p9","title":"Add test infrastructure + Inspector UI test coverage","description":"## Goal\nAdd comprehensive test coverage for Inspector UI v0.\n\n## Scope\n\n### Unit Tests - Components\n- **InspectorPanel.tsx**\n  - Prop grouping/sorting logic\n  - Override detection (active/orphaned)\n  - Registry entry lookup\n  - No selection state rendering\n- **PropControls.tsx**\n  - StringControl (single-line + multiline)\n  - NumberControl (with step/unit)\n  - BooleanControl\n  - SelectControl (options rendering)\n  - ColorControl (color picker + hex input)\n  - JsonControl (validation + parsing)\n  - SlotControl (read-only display)\n  - ControlRenderer dispatcher\n\n### Unit Tests - State\n- **inspectorStore.ts**\n  - Registry fetching on initialize\n  - Selection event subscription\n  - Override event subscription\n  - State updates\n\n### Integration Tests (Vitest or Playwright)\n- Override set operation (form edit → IPC call)\n- Override clear operation (reset button → IPC call)\n- Orphaned override clearing (batch operation)\n- Registry-driven prop list rendering\n\n## Acceptance Criteria\n- \u001450 tests cover Inspector-related code (baseline).\n- Inspector UI behavior is covered across components + store + integration.\n- Tests run with the new test infrastructure (see infra ticket).\n- Test scripts documented in README.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T02:38:43.995135-08:00","created_by":"dhiester","updated_at":"2026-01-18T14:01:56.249047-08:00","closed_at":"2026-01-18T14:01:56.249047-08:00","close_reason":"Closed"}
{"id":"skaffa-456","title":"Launcher View: open/create workspace entry","description":"## Summary\nAdd a dedicated Launcher view as Scaffa's entry point before a workspace is loaded.\n\nThe Launcher is responsible for letting the user:\n- Open an existing workspace (project folder)\n- Choose from recent workspaces\n- (Optional / deferred) Create a new workspace from a template\n\n## Acceptance\n- On app start with no workspace loaded, the renderer shows the Launcher route (no empty Workbench panels).\n- Open Workspace triggers a host-owned folder picker; on success, Scaffa loads `scaffa.config.ts`, starts the extension host, and navigates to Workbench.\n- If the selected folder is not a valid Scaffa workspace, show an actionable error and remain on Launcher.\n- Recent workspaces are persisted locally and selectable from Launcher.\n\n## Notes\n- Keep Electron boundaries: main owns privileged OS dialogs + workspace loading; renderer requests via preload API.\n- Keep UI routing aligned with `docs/index.md` (Launcher + Workbench as top-level views).\n","status":"closed","priority":2,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T11:54:05.194555-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T13:54:31.604196-08:00","closed_at":"2026-01-13T13:54:31.604196-08:00","close_reason":"Launcher entry flow implemented","labels":["launcher","ui","workspace"]}
{"id":"skaffa-49e","title":"Layout extension: designer-friendly inspector UI for spacing + layout props","description":"## Goal\nProvide a designer-friendly Inspector section for layout primitives (Box/Row/Stack) that makes axis padding/margin and spacing scale easy to edit.\n\n## Scope\n- Add an inspector section for layout primitives using the extension UI contributions pipeline.\n- Present padding via side-specific controls (top/right/bottom/left) with scale selection (0..16) and an explicit unset option; show spacing values by token name (e.g., space-6).\n- Provide a toggle to show/hide margin controls; when enabled, margin uses side-specific controls (top/right/bottom/left) with scale selection (0..16) and an explicit unset option; show values by token name.\n- Expose Row/Stack controls: gap (single control with scale values + auto/space-between + unset in the same enum/typeahead), align, justify, wrap, direction.\n- Only render the section when selection is layout.box/layout.row/layout.stack.\n- Use existing override APIs and validation semantics; no inline styles or runtime mutations outside overrides.\n- **Urgent:** Do not shape the inspector UI API around this specific layout use case; keep it generic and composable.","acceptance_criteria":"- Selecting a layout.box/row/stack instance shows a dedicated layout inspector section.\n- Axis padding/margin editing is discoverable and does not require raw JSON input.\n- Controls map to the registry props and apply overrides immediately.\n- Section hides for non-layout selections and does not interfere with core Inspector sections.","status":"closed","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-18T00:34:12.87651-08:00","created_by":"Dan Hiester","updated_at":"2026-01-19T10:50:28.61408-08:00","closed_at":"2026-01-19T10:50:28.61408-08:00","close_reason":"Closed","labels":["inspector","layout","ui"],"dependencies":[{"issue_id":"skaffa-49e","depends_on_id":"skaffa-dxx","type":"blocks","created_at":"2026-01-18T00:34:12.882435-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-49e","depends_on_id":"skaffa-1bg","type":"blocks","created_at":"2026-01-18T00:34:12.88609-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-4p0","title":"Workbench: implement docked IDE layout per visual-language.md","description":"## Problem\nThe BrowserView currently overlaps other panels, making them unusable. We need proper layout structure before we can continue surfacing internal systems in the UI.\n\n## Goal\nImplement the docked IDE layout described in docs/design/visual-language.md with proper panel structure, surface hierarchy, and resizable regions.\n\n## Scope\n1. **Fix BrowserView overlap**: Ensure preview doesn't cover other panels\n2. **Implement docked layout structure**:\n   - Left sidebar: files + routes (project navigation)\n   - Center workspace: preview/canvas (primary editing surface)\n   - Right sidebar: inspectors + tools\n   - Bottom panel (optional): console/logs, collapsible\n3. **Surface role hierarchy**: Use surface-panel → surface-pane → surface-card\n4. **Resizable panels**: Sidebars and bottom panel should be resizable\n5. **Proper spacing**: Follow 4px baseline grid, use documented spacing rhythm\n\n## Acceptance\n- Starting preview shows content in center without overlapping sidebars\n- All panels (left/right/bottom) remain accessible and functional\n- Surface roles correctly applied (panel/pane/card)\n- Borders separate regions (not heavy gutters)\n- Layout matches visual-language.md guidance\n- Preview has proper bounds that update when panels resize\n\n## References\n- docs/design/visual-language.md (layout + surface guidance)\n- docs/design/colors.md (semantic tokens)\n- src/renderer/views/Workbench.tsx (current layout implementation)\n\n## Blockers\nThis is blocking further UI development - internal systems can't be surfaced until layout is stable.","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-15T08:13:30.3777-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T10:54:37.243975-08:00","closed_at":"2026-01-15T10:54:37.243975-08:00","close_reason":"Closed"}
{"id":"skaffa-4zu","title":"Workbench loading UI: skeleton toolbars while workspace initializes","description":"Add an explicit workspace-loading state in the renderer and render skeleton UI in left/right toolbars while workspace/config/registry/graph/session are initializing. Keep the main layout stable to avoid jank.","acceptance_criteria":"- Workbench renders skeletons for left/right toolbars during workspace initialization\\n- Loading state clears once workspace/config/registry/graph are ready\\n- No regression to existing inspector/session flows\\n- Tests updated or added to cover the loading state","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-20T11:58:52.5551-08:00","created_by":"Dan Hiester","updated_at":"2026-01-20T11:58:52.5551-08:00"}
{"id":"skaffa-5ss","title":"Preview sessions: add purpose (editor vs preview)","description":"Add a first-class session purpose to the preview-session types/IPC so Scaffa can create two independent app sessions for the same target URL:\n\n- purpose: editor (Editor View canvas; click-to-select by default)\n- purpose: preview (Preview Mode; interact-by-default; inspect via Alt/Option + click)\n\nAcceptance:\n- Shared types define PreviewSessionPurpose and a session-create request includes purpose (and optional inheritOverridesFromSessionId).\n- Main/preload/renderer can request/create sessions with purpose and persist the purpose on session state.\n- Renderer surfaces the purpose in the session list/UI.\n","notes":"Deferred: Session purpose (editor vs preview) postponed until Preview Mode is re-scoped post-v0 Save-to-disk.","status":"deferred","priority":2,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T17:25:54.463643-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T18:00:15.594954-08:00"}
{"id":"skaffa-694","title":"Add baseline shadcn/ui components for Scaffa","description":"Establish and add a sensible baseline set of shadcn/ui (BaseUI variant) components for the renderer. This should replace the previous one-off decision about the untracked button component by formalizing which components Scaffa should ship with by default.\\n\\nBaseline component list (v1):\\n- button\\n- badge\\n- input\\n- textarea\\n- label\\n- checkbox\\n- radio-group\\n- switch\\n- select\\n- dropdown-menu\\n- dialog\\n- alert-dialog\\n- popover\\n- tooltip\\n- tabs\\n- table\\n- toast\\n\\nScope:\\n- Add the baseline component list via shadcn CLI from src/renderer.\\n- Remap any shadcn palette utility classes to Scaffa theme tokens in src/renderer/styles.css.\\n- Ensure the existing untracked button component is either integrated into the baseline set or removed if not part of the baseline.\\n- Verify renderer build passes.","acceptance_criteria":"- Baseline component list is captured in this ticket (v1 list above)\\n- Components are added under src/renderer/components/ui and use Scaffa theme tokens (no shadcn palette classes remain)\\n- Renderer build passes","status":"closed","priority":2,"issue_type":"chore","owner":"dan.hiester@gmail.com","created_at":"2026-01-12T16:45:28.171138-08:00","created_by":"Dan Hiester","updated_at":"2026-01-12T17:43:30.940532-08:00","closed_at":"2026-01-12T17:43:30.940532-08:00","close_reason":"Closed","labels":["cleanup","ui"]}
{"id":"skaffa-6g8","title":"Workbench: attach BrowserView to Editor View + viewport bounds API","description":"## Goal\nMake the Editor View actually render the preview runtime inside the Workbench center area using main-owned `BrowserView`.\n\n## Scope\n- Add a preload API for renderer → main to set the preview viewport bounds (x/y/width/height).\n- Main attaches/detaches the `BrowserView` to the Workbench `BrowserWindow` and applies bounds on layout changes.\n- Handle window resize / DPI scale / workbench layout changes deterministically.\n\n## Acceptance\n- Starting an app session shows the runtime in the Workbench center region.\n- Resizing/docking panels updates the preview bounds without flicker.\n- Stopping the session removes the view cleanly.\n\n## References\n- `docs/scaffa_preview_session_protocol.md` (v0 embedding primitive + renderer→main bounds contract)\n- `docs/design/visual-language.md` (Workbench layout + surface roles)\n- `docs/design/colors.md` (semantic tokens; avoid raw colors in new UI)\n- `docs/index.md` (multi-process model + renderer constraints)\n\n## Code Pointers\n- `src/main/preview/preview-session.ts` (creates the `BrowserView` / `WebContents`)\n- `src/main/ipc/preview.ts` + `src/preload/preload.ts` (add viewport bounds IPC surface)\n- `src/renderer/views/Workbench.tsx` (center region that should own the preview viewport rectangle)\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T17:27:16.919777-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T15:24:03.0386-08:00","labels":["electron","preview","workbench"]}
{"id":"skaffa-7h2","title":"Launcher UI: route + layout skeleton","description":"## Summary\nImplement the renderer-side Launcher route/view as the default entry when no workspace is loaded.\n\n## Acceptance\n- App start (no workspace loaded) routes to `Launcher` (not Workbench).\n- Launcher shows primary actions: `Open Workspace`, `Open Recent` list (placeholder ok), `Open Demo` (if enabled).\n- Launcher is visually consistent with the design language and can be navigated via keyboard.\n- Workbench route remains unchanged and is reachable after a workspace loads.\n\n## Notes\n- Keep this purely renderer + routing + layout; workspace dialogs/loading are handled in separate tickets.\n","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T12:38:59.282749-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T13:54:46.603379-08:00","closed_at":"2026-01-13T13:54:46.603379-08:00","close_reason":"Implemented launcher UI, workspace open wiring, recents, demo entry","labels":["launcher","renderer","ui"],"dependencies":[{"issue_id":"skaffa-7h2","depends_on_id":"skaffa-456","type":"blocks","created_at":"2026-01-13T12:38:59.286755-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-7iq","title":"v0: First end-to-end user journey (preview → select → inspect → override → persist)","description":"## Goal\nShip the v0 end-to-end flow described in `docs/scaffa_v0_scope_and_user_journey.md`, with sufficient extension authoring support and error visibility to enable early partners and internal teams to build against it.\n\n## Preview Run Modes (clarifying intent)\nScaffa supports two ways to run app previews:\n\n- **Attached (view mode):** Scaffa attaches to an already-running runtime via URL (e.g. a dev server you started separately).\n- **Managed (edit mode):** Scaffa launches and supervises the preview runtime via a toolchain-specific launcher (contributed by a module, e.g. Vite+React first). Managed previews may inject instrumentation at launch time to enable deeper sync while keeping project code as the source of truth.\n\nv0 should keep both modes viable: attached for “it runs on its own” parity, managed for “edit inside Scaffa” fidelity.\n\n## Success Criteria (End-User Journey)\n- Open a workspace configured for Scaffa.\n- Start an `app` preview session (attached or managed).\n- Click-to-select a UI instance in the preview.\n- Inspector shows props with canonical semantics (editable vs inspect-only vs opaque).\n- Edit an approved prop to create a non-destructive override; preview updates immediately.\n- Reset/clear overrides confidently.\n- Persist overrides to a diffable file (`/.scaffa/overrides.v0.json`).\n\n## Success Criteria (Extension Authoring)\n- Extension authors can build modules without excessive friction:\n  - Stable import surface for extension SDK types\n  - Complete type signatures (no `unknown` stubs)\n  - Visible, actionable errors when config/modules fail to load\n  - Runtime warnings for common mistakes (e.g., missing registry entries)\n- Modules can contribute:\n  - component registries\n  - graph producers\n  - runtime adapter bundles\n  - preview launchers (toolchain-specific)\n- The demo workspace serves as a reference implementation\n\n## Architectural Constraints\n- Keep the Electron multi-process model aligned with `docs/index.md`.\n- Keep IPC boundaries aligned with `docs/scaffa_ipc_boundaries_and_sequences.md`.\n- Keep schema/contracts aligned with:\n  - `docs/scaffa_preview_session_protocol.md`\n  - `docs/scaffa_runtime_adapter_contract.md`\n  - `docs/scaffa_component_registry_schema.md`\n  - `docs/scaffa_override_model.md`\n  - `docs/scaffa_project_graph_schema.md`\n\n## Implementation Areas\n- IPC + preload gateway\n- Workspace + config loading\n- Extension host + modules\n- Preview sessions + runtime handshake\n- Preview launchers (managed sessions) + instrumentation hooks\n- React runtime adapter (first implementation)\n- Overrides store + persistence\n- Inspector UI v0\n- Project graph v0\n- Extension SDK + developer experience\n","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T16:08:11.745162-08:00","created_by":"dhiester","updated_at":"2026-01-12T14:50:40.180659-08:00","closed_at":"2026-01-12T14:50:40.180659-08:00","close_reason":"v0 end-to-end preview→select→inspect→override→persist journey implemented; all child epics/tasks closed.","labels":["architecture","product","v0"]}
{"id":"skaffa-7iq.1","title":"Core: IPC backbone + preload capability gateway (v0)","description":"## Goal\nProvide a typed, minimal capability surface from renderer → preload → main, aligned with Scaffa's multi-process model.\n\n## Context\n- `docs/index.md` (Process Model)\n- `docs/scaffa_ipc_boundaries_and_sequences.md`\n\n## Scope\n- Shared protocol types/schemas used across boundaries.\n- `window.scaffa.*` APIs exposed via preload.\n- Main IPC request/response handlers and event broadcast channels.\n- Runtime payload validation at boundaries.\n\n## Success Criteria\n- Renderer does not import Electron APIs; all effects go through `window.scaffa`.\n- IPC payloads are validated (fail fast with structured errors).\n- Domain epics (preview/overrides/graph) have the primitives they need.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:11.918515-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:06:33.637912-08:00","closed_at":"2026-01-10T17:06:33.637912-08:00","close_reason":"Closed","labels":["architecture","electron","ipc","preload","v0"],"dependencies":[{"issue_id":"skaffa-7iq.1","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:11.920515-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.1.1","title":"IPC: Add shared v0 protocol types + Zod schemas","description":"## Context\nMultiple processes need to share canonical shapes for preview sessions, selection, overrides, and graph patches.\n\nRelated docs:\n- `docs/scaffa_preview_session_protocol.md`\n- `docs/scaffa_runtime_adapter_contract.md`\n- `docs/scaffa_override_model.md`\n- `docs/scaffa_project_graph_schema.md`\n\n## Work\n- Add shared TS types + Zod schemas for v0 protocol payloads.\n- Ensure main/preload/renderer/extension-host import from the shared module (no drift).\n\n## Acceptance Criteria\n- Shared types are the single source of truth for cross-boundary payload shapes.\n- Invalid payloads are detectable via Zod parsing.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:13.809726-08:00","created_by":"dhiester","updated_at":"2026-01-10T16:57:34.58245-08:00","closed_at":"2026-01-10T16:57:34.58245-08:00","close_reason":"Closed","labels":["architecture","ipc","v0"],"dependencies":[{"issue_id":"skaffa-7iq.1.1","depends_on_id":"skaffa-7iq.1","type":"parent-child","created_at":"2026-01-10T16:08:13.812524-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.1.2","title":"Preload: Expose typed window.scaffa APIs for preview/selection/overrides/graph","description":"## Context\nRenderer must not import Electron/Node APIs; it uses preload-exposed capabilities.\n\n## Work\n- Expand `src/preload/preload.ts` to expose typed APIs aligned with docs:\n  - preview: start/stop sessions + subscribe to session lifecycle\n  - selection: subscribe to selection changes\n  - overrides: set/clear + subscribe to override state changes\n  - graph: get snapshot + subscribe to patches\n\n## Acceptance Criteria\n- Renderer uses `window.scaffa.*` for all effects.\n- API surface is minimal and typed.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:14.042168-08:00","created_by":"dhiester","updated_at":"2026-01-10T16:58:08.722514-08:00","closed_at":"2026-01-10T16:58:08.722514-08:00","close_reason":"Closed","labels":["ipc","preload","v0"],"dependencies":[{"issue_id":"skaffa-7iq.1.2","depends_on_id":"skaffa-7iq.1","type":"parent-child","created_at":"2026-01-10T16:08:14.048006-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.1.3","title":"Main: Implement IPC handlers + event broadcast plumbing for v0 domains","description":"## Work\n- Add `ipcMain.handle` endpoints in `src/main/*` backing the preload APIs.\n- Implement event broadcast to renderer for:\n  - preview session lifecycle\n  - selection changes\n  - override state changes\n  - graph patches\n\n## Acceptance Criteria\n- Renderer can round-trip basic calls (start session, set override, request graph snapshot).\n- Events reach renderer reliably.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:14.26738-08:00","created_by":"dhiester","updated_at":"2026-01-10T16:59:19.082997-08:00","closed_at":"2026-01-10T16:59:19.082997-08:00","close_reason":"Closed","labels":["electron","ipc","v0"],"dependencies":[{"issue_id":"skaffa-7iq.1.3","depends_on_id":"skaffa-7iq.1","type":"parent-child","created_at":"2026-01-10T16:08:14.269591-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.1.4","title":"IPC: Validate inbound/outbound payloads with Zod + structured errors","description":"## Work\n- Parse all IPC requests/events using shared Zod schemas.\n- Standardize error return shapes for renderer consumption.\n\n## Acceptance Criteria\n- Bad payloads fail fast with actionable errors (no silent no-ops).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:14.497386-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:06:33.56008-08:00","closed_at":"2026-01-10T17:06:33.56008-08:00","close_reason":"Closed","labels":["architecture","ipc","v0"],"dependencies":[{"issue_id":"skaffa-7iq.1.4","depends_on_id":"skaffa-7iq.1","type":"parent-child","created_at":"2026-01-10T16:08:14.500522-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.10","title":"Extension SDK: provide stable import surface for extension authors","description":"## Context\nExtensions currently import types via deep relative paths into `src/` (e.g. `src/extension-host/extension-context.js`, `src/shared/index.js`), which is brittle for authors.\n\n## Goal\nProvide a stable, documented import surface for extension authors (an in-repo SDK now; publishable package later).\n\n## Scope\n- Create a single entrypoint that re-exports extension-facing types (ExtensionContext, ComponentRegistry, graph/preview/override protocol types).\n- Update demo extension(s) to use the new import surface.\n- Update docs to reference the SDK import path (keep legacy guidance as fallback during transition).\n\n## Acceptance Criteria\n- A workspace-local extension can import needed types from a single path without relative `../../../src/...` imports.\n- Demo module builds/loads using the new import surface.\n- No circular dependencies introduced.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:07:08.876412-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:08:28.391591-08:00","closed_at":"2026-01-11T13:08:28.391591-08:00","close_reason":"Created Extension SDK entrypoint (extension-sdk.ts) that re-exports all extension-facing types from a single stable import path. Updated sample-graph-producer module to use SDK imports. Updated extension authoring guide with recommended SDK import pattern. Build succeeds with no circular dependencies.","labels":["api","extension-host","lessons-learned"],"dependencies":[{"issue_id":"skaffa-7iq.10","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:07:08.878403-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.11","title":"Extension API: type GraphProducer.initialize() as GraphSnapshot","description":"## Context\n`GraphProducer.initialize()` is currently typed as `Promise\u003cunknown\u003e` with a TODO, but implementations return a `GraphSnapshot`.\n\n## Goal\nMake extension-facing types complete so extension authors do not need casts.\n\n## Scope\n- Update `src/extension-host/extension-context.ts` so `GraphProducer.initialize()` returns `Promise\u003cGraphSnapshot\u003e`.\n- Ensure the type is imported from the shared protocol types.\n- Remove the TODO and fix any downstream TypeScript errors.\n\n## Acceptance Criteria\n- Extension modules can implement GraphProducer without `as any`/casts for the snapshot return.\n- TypeScript build passes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:07:25.2645-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:24:03.256145-08:00","closed_at":"2026-01-11T13:24:03.256145-08:00","close_reason":"Closed","labels":["extension-host","lessons-learned","types"],"dependencies":[{"issue_id":"skaffa-7iq.11","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:07:25.266472-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.12","title":"Inspector: warn when selected instance typeId has no registry entry","description":"## Context\nIf `ComponentTypeId` mismatches across runtime ↔ registry ↔ graph, selection still works but the Inspector lacks metadata. Debugging is currently opaque.\n\n## Goal\nMake mismatches obvious with actionable warnings.\n\n## Scope\n- On selection change, if `componentTypeId` is missing from the effective registry, log a warning that includes the missing typeId and hints (registry key, runtime wrapper typeId, graph node id).\n- Optionally show a small non-blocking UI callout in the Inspector panel for the missing registry entry.\n\n## Acceptance Criteria\n- Selecting an instance with an unknown `componentTypeId` produces an actionable warning.\n- Inspector remains usable (falls back to raw props / inspect-only as today).\n- No false positives when registry loads asynchronously (handle “loading” state).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:07:41.717576-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:05:06.201633-08:00","closed_at":"2026-01-11T13:05:06.201633-08:00","close_reason":"Enhanced Inspector warnings for missing registry entries. Added useEffect logging with actionable debugging hints (typeId, instanceId, available keys, possible causes, remediation steps). Improved UI warning box with expandable hints and available registry keys. Proper loading state handling prevents false positives.","labels":["inspector","lessons-learned","registry"],"dependencies":[{"issue_id":"skaffa-7iq.12","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:07:41.71958-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.13","title":"Config: surface scaffa.config.ts validation + module load errors","description":"## Context\nConfig validation and module load failures can be easy to miss (often only visible in DevTools console).\n\n## Goal\nMake config health visible in-product and easier to debug.\n\n## Scope\n- When config schema validation fails, surface a clear UI error state (banner/panel) with the Zod error message.\n- When a module fails to load/activate, show which module id/path failed and the error.\n- Add a lightweight “Config Health”/diagnostics surface or command that shows current config + module activation statuses.\n\n## Acceptance Criteria\n- A broken `scaffa.config.ts` produces a visible UI indication (not just console output).\n- Module load failures are visible with actionable details.\n- No crashes; the app remains usable enough to fix config.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T08:08:02.17132-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:00:47.759146-08:00","closed_at":"2026-01-11T13:00:47.759146-08:00","close_reason":"Implemented config health surfacing. Added module activation status reporting from extension host, tracking in main process, IPC handler updates, and ConfigHealthBanner UI component. Config validation errors and module failures now visible in banner below header with actionable remediation steps. App remains usable when config is broken.","labels":["config","diagnostics","lessons-learned"],"dependencies":[{"issue_id":"skaffa-7iq.13","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:08:02.173202-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.14","title":"Preview (attached): improve validation + errors for app session URL input","description":"## Context\nIn **attached (view mode)**, preview `app` sessions are started from a user-provided URL. URLs must be full URLs including protocol (e.g. `http://localhost:5173`). When wrong, errors may not guide the user to the fix.\n\n(Managed/edit previews launched by Scaffa should not require a URL; their launcher errors are tracked separately.)\n\n## Goal\nMake attached preview URL validation failures self-explanatory.\n\n## Scope\n- Ensure the validation error message explicitly says “must include protocol (http/https)” and shows a correct example.\n- Ensure the UI path that starts attached sessions surfaces the error message in the form (not only console).\n- Ensure the UI clearly labels this as the **attached** mode so users don’t confuse it with managed/edit preview.\n\n## Acceptance Criteria\n- Entering `localhost:5173` produces an error that clearly instructs the user to use `http://localhost:5173`.\n- No regression to valid URLs.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T08:08:19.540495-08:00","created_by":"dhiester","updated_at":"2026-01-11T12:30:45.479222-08:00","closed_at":"2026-01-11T12:30:45.479222-08:00","close_reason":"Enhanced URL validation and UX for attached preview mode. Implementation: (1) Improved error message at line 62-64 to explicitly state 'must include protocol (http:// or https://)' with example 'http://localhost:5173', (2) Error already surfaces in UI form via error state (lines 215-219, red error box), (3) Clarified mode selection with '(view mode)' and '(edit mode)' hints (lines 150-152), (4) Updated URL field label to include '(Attached Mode)' (line 160), (5) Added protocol requirement to helper text (line 172). Acceptance criteria met: validation error explicitly mentions protocol requirement with example, error surfaces in form UI (not just console), UI clearly labels attached mode to prevent confusion. Commit: 644bf10","labels":["lessons-learned","preview","ux"],"dependencies":[{"issue_id":"skaffa-7iq.14","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:08:19.542582-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.15","title":"Dev UX: add single command to run Scaffa + demo app","description":"## Context\nValidating the v0 journey requires two processes (Scaffa + a running demo app preview). This is architecturally correct, but local setup is frictiony.\n\nThe demo app now intentionally behaves like a **standalone project** (outside the pnpm workspace), so it must be started via its local wrappers (e.g. `pnpm -C demo/app run dev:local`).\n\n## Goal\nProvide a one-command dev convenience that starts both processes.\n\n## Scope\n- Add a root-level script (e.g. `pnpm dev:demo`) that starts:\n  - Scaffa: `pnpm dev`\n  - Demo app preview: `pnpm -C demo/app run dev:local`\n- Use a lightweight tool (e.g. `concurrently`) or a small Node script to manage processes.\n- Document prerequisites (e.g. run `pnpm -C demo/app run install:local` once).\n\n## Acceptance Criteria\n- Running `pnpm dev:demo` reliably starts both processes and streams logs.\n- Exiting stops both processes cleanly.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T08:08:37.250767-08:00","created_by":"dhiester","updated_at":"2026-01-11T12:14:24.676326-08:00","closed_at":"2026-01-11T12:14:24.676326-08:00","close_reason":"Added pnpm dev:demo convenience script. Implementation includes: (1) concurrently as dev dependency for process management, (2) dev:demo script in root package.json that runs both 'pnpm dev' and 'pnpm -C demo/app run dev:local' in parallel, (3) updated development guide with single-command option (recommended) and documented prerequisites. Acceptance criteria met: script reliably starts both processes with streamed logs, Ctrl+C cleanly stops both processes. Commit: 9ef0ba4","labels":["demo","devex","lessons-learned"],"dependencies":[{"issue_id":"skaffa-7iq.15","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:08:37.254705-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.16","title":"Extensions: add helpers for branded IDs + graph node/edge construction","description":"## Context\nBranded Zod ID types (e.g. `ComponentTypeId`) improve safety but create friction for extension authors (casts, `as any`, and `as const` in many places).\n\n## Goal\nProvide ergonomic helpers that preserve type safety without pervasive casting.\n\n## Scope\n- Add small helper constructors/parsers for common graph values (component type nodes, route nodes, edges).\n- Prefer schema parsing (`*.parse`) or dedicated functions that return correctly typed objects.\n- Document recommended usage for extension authors.\n\n## Acceptance Criteria\n- Demo graph producer can be written without `as any` for branded IDs.\n- Helpers do not hide validation failures (surface parse errors clearly).","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T08:08:55.742101-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:28:52.420387-08:00","closed_at":"2026-01-11T13:28:52.420387-08:00","close_reason":"Closed","labels":["extension-host","lessons-learned","types"],"dependencies":[{"issue_id":"skaffa-7iq.16","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:08:55.744337-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.16","depends_on_id":"skaffa-7iq.10","type":"blocks","created_at":"2026-01-11T08:22:16.997994-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.17","title":"Overrides: ensure persistence creates /.scaffa directory and emits actionable errors","description":"## Context\nOverrides persist to `/.scaffa/overrides.v0.json`. The demo required manually creating `/.scaffa/` in some workflows; behavior should be guaranteed and errors should be clear.\n\n## Goal\nMake persistence robust and predictable.\n\n## Scope\n- Ensure persistence always creates the `/.scaffa/` directory before writing.\n- If writing fails (permissions, invalid root), surface a clear error in logs/UI instead of failing silently.\n- Add a small regression check (unit test or manual script) for directory creation + transactional write.\n\n## Acceptance Criteria\n- First override write succeeds without any manual directory setup.\n- Failure modes provide actionable diagnostics.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T08:09:12.355584-08:00","created_by":"dhiester","updated_at":"2026-01-11T12:17:27.336271-08:00","closed_at":"2026-01-11T12:17:27.336271-08:00","close_reason":"Enhanced override persistence robustness. Implementation: (1) Added explicit logging when creating .scaffa directory (line 283), (2) Enhanced error handling with detailed diagnostics including workspace path, target file, and directory (lines 341-346), (3) Added actionable remediation guidance for common errors: EACCES/EPERM (permissions), ENOENT (invalid path), ENOSPC (disk space), EROFS (read-only FS) (lines 349-358), (4) Errors now re-thrown to surface in UI via IPC handlers (lines 361-364), (5) Added regression test script scripts/test-override-persistence.mjs covering directory creation, transactional write, and error patterns. Acceptance criteria met: first override write succeeds without manual directory setup (already working, now with logging), failure modes provide actionable diagnostics (enhanced error messages), regression check added. Commit: 85835c3","labels":["lessons-learned","overrides","persistence"],"dependencies":[{"issue_id":"skaffa-7iq.17","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:09:12.357847-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.18","title":"Config: consider additional module path resolution strategies","description":"## Context\nv0 module `path` resolution is relative to the directory containing `scaffa.config.ts`. This works for workspace-local modules, but sharing modules across workspaces is awkward.\n\n## Goal\nEvaluate and (if worthwhile) implement additional path strategies.\n\n## Ideas\n- Support absolute paths\n- Support workspace-root relative paths (e.g. `@/extensions/...` or `workspace:/...`)\n- Support npm package modules\n\n## Acceptance Criteria\n- Decision recorded (implemented or explicitly deferred).\n- If implemented, docs updated and demo config remains valid.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-11T08:09:28.286932-08:00","created_by":"dhiester","updated_at":"2026-01-12T14:44:23.306208-08:00","closed_at":"2026-01-12T14:44:23.306208-08:00","close_reason":"Implemented package-based module resolution (module.package + id fallback) and documented supported prefixes.","labels":["config","lessons-learned"],"dependencies":[{"issue_id":"skaffa-7iq.18","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T08:09:28.289349-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.19","title":"Preview: Managed (edit mode) sessions via toolchain launchers","description":"## Goal\nSupport Scaffa-launched **managed (edit mode)** app previews, in addition to attaching to already-running runtimes.\n\n## Context\nWe want Scaffa to be able to launch and supervise a project’s preview runtime for active editing, enabling tighter sync (and optional instrumentation) while keeping project code as the source of truth.\n\n## Scope\n- Define a module-contributed **preview launcher** concept (toolchain-specific: Vite+React first; Next/Remix later).\n- Wire managed launch → URL discovery → session attach.\n- Ensure start/stop lifecycle is owned and observable (logs + UI state).\n\n## Success Criteria\n- Scaffa can start/stop a managed app preview without the user manually running a dev server.\n- Multiple launchers can exist; project/config selects which one to use.\n- Failures to launch produce actionable diagnostics.\n\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T09:21:10.241611-08:00","created_by":"dhiester","updated_at":"2026-01-12T14:50:15.950601-08:00","closed_at":"2026-01-12T14:50:15.950601-08:00","close_reason":"All scoped tasks complete for v0 managed preview (launchers + UI + router capture).","labels":["architecture","modules","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.19","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T09:21:10.244048-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.19.1","title":"Preview launchers: define extension API + lifecycle contract","description":"## Goal\nIntroduce a first-class, typed **PreviewLauncher** contribution so modules can implement toolchain-specific managed previews.\n\n## Scope\n- Define a launcher interface (start/stop, URL discovery, logs) in extension-facing types.\n- Decide where launchers execute (extension host vs main) and how they request session attach.\n- Add minimal wiring so Scaffa can call a launcher by id and receive `{ url }` (and a stop handle).\n\n## Acceptance Criteria\n- A module can register a launcher (e.g. `vite-react`).\n- Scaffa can start a managed preview using that launcher and then attach an `app` session to the resulting URL.\n- Stop shuts down the launched process cleanly.\n- Errors are surfaced through existing diagnostics surfaces (no silent failures).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:28.084387-08:00","created_by":"dhiester","updated_at":"2026-01-11T09:43:10.464619-08:00","closed_at":"2026-01-11T09:43:10.464619-08:00","close_reason":"Completed PreviewLauncher API implementation:\n\n✅ Defined PreviewLauncher types in shared/preview-session.ts:\n   - PreviewLauncherId, PreviewLauncherDescriptor\n   - PreviewLauncherOptions, PreviewLaunchResult\n   - PreviewLogEntry for launcher logs\n\n✅ Added PreviewAPI to ExtensionContext:\n   - PreviewLauncher interface (descriptor, start, stop, onLog)\n   - PreviewAPI.registerLauncher() for module contributions\n\n✅ Extended IPC protocol for launcher lifecycle:\n   - Main → ExtHost: start-preview-launcher, stop-preview-launcher\n   - ExtHost → Main: launcher-registered, preview-launcher-started/stopped/error/log\n\n✅ Implemented launcher registry in main process:\n   - src/main/preview/launcher-registry.ts\n   - Tracks registered launchers and active instances\n   - Manages start/stop requests with timeout handling\n\n✅ Wired launcher lifecycle:\n   - Extension host handles launcher registration via PreviewAPI\n   - ModuleLoader manages launcher instances and IPC\n   - ExtensionHostManager routes messages between processes\n\n✅ Connected launchers to session attach flow:\n   - Updated PreviewSessionTarget to support launcherId + launcherOptions\n   - PreviewSessionManager starts launcher, resolves URL, then attaches session\n   - Maintains backward compatibility with direct URL sessions\n\n✅ Error handling and diagnostics:\n   - Timeout handling for start/stop operations\n   - Structured error messages with codes\n   - Log forwarding from launchers to main process\n\nAll acceptance criteria met. Ready for next task: UI implementation (7iq.19.2) and Vite+React launcher (7iq.19.3).","labels":["api","extension-host","modules","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.19.1","depends_on_id":"skaffa-7iq.19","type":"parent-child","created_at":"2026-01-11T09:21:28.086919-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.19.2","title":"Preview UI: add attached vs managed mode for app sessions","description":"## Goal\nMake it clear in the UI whether an app preview session is **attached** (URL) or **managed** (launcher).\n\n## Scope\n- Update the “start app preview” UX to support:\n  - **Attached:** URL input + validation.\n  - **Managed:** select a launcher id (and any required options), then launch.\n- Ensure session state communicates whether the runtime is managed (and supports stop).\n\n## Acceptance Criteria\n- User can start an attached preview by URL (existing flow).\n- User can start a managed preview by selecting a launcher.\n- Error messaging is mode-appropriate (URL validation vs launcher errors).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:21:45.142299-08:00","created_by":"dhiester","updated_at":"2026-01-11T09:54:18.007632-08:00","closed_at":"2026-01-11T09:54:18.007632-08:00","close_reason":"Completed Preview UI for attached vs managed mode:\n\n✅ Added IPC handler (preview:getLaunchers) to retrieve available launchers\n✅ Updated preload to expose launcher list API via window.scaffa.preview.getLaunchers()\n✅ Created StartPreviewDialog component with:\n   - Mode selection (Attached vs Managed)\n   - URL input for attached mode with validation\n   - Launcher selection dropdown for managed mode\n   - Mode-appropriate error messaging\n   - Loading states and disabled states\n\n✅ Updated PreviewSessionList component with:\n   - Real session data from Zustand store\n   - Session state display (Starting, Ready, Error, Stopped)\n   - Start Session button to trigger dialog\n   - Stop Session button for active sessions\n   - Empty state when no sessions exist\n\n✅ Created sessionStore (Zustand):\n   - Session state management (add, ready, error, remove)\n   - Event listeners for session lifecycle events\n   - Auto-initialization at app startup\n\n✅ Build successful, no TypeScript errors\n\nAll acceptance criteria met:\n- ✓ User can start attached preview by URL\n- ✓ User can start managed preview by selecting a launcher\n- ✓ Error messaging is mode-appropriate\n- ✓ Session state communicates runtime status\n\nReady for next task: scaffa-7iq.19.3 (Vite+React launcher implementation)","labels":["preview","renderer","ux","v0"],"dependencies":[{"issue_id":"skaffa-7iq.19.2","depends_on_id":"skaffa-7iq.19","type":"parent-child","created_at":"2026-01-11T09:21:45.144756-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.19.2","depends_on_id":"skaffa-7iq.19.1","type":"blocks","created_at":"2026-01-11T09:23:51.24566-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.19.3","title":"Vite+React launcher: start demo/app managed preview","description":"## Goal\nProvide the first concrete preview launcher implementation for **Vite+React**, targeting `demo/app`.\n\n## Scope\n- Launch `demo/app` dev server as a child process.\n- Reliably discover the dev server URL/port.\n- On success, start/attach an `app` preview session to that URL.\n- On stop, terminate the dev server process cleanly.\n\n## Notes\n- Keep demo/app as a standalone project (no workspace coupling).\n- Prefer robust URL discovery (explicit port/env, or parse stdout with fallbacks).\n\n## Acceptance Criteria\n- Starting managed preview launches the demo dev server and attaches the Scaffa preview automatically.\n- Stopping managed preview shuts down the dev server.\n- Failure modes (port in use, missing deps) are surfaced with actionable errors.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:22:03.611832-08:00","created_by":"dhiester","updated_at":"2026-01-11T10:02:12.131763-08:00","closed_at":"2026-01-11T10:02:12.131763-08:00","close_reason":"Completed Vite+React launcher implementation:\n\n✅ Created vite-launcher module in demo/extensions/vite-launcher/\n   - package.json with module metadata\n   - index.ts with full PreviewLauncher implementation\n\n✅ Implemented ViteLauncher class:\n   - Spawns pnpm dev:local in demo/app directory\n   - Parses Vite stdout to extract URL (matches 'Local: http://...' pattern)\n   - Returns PreviewLaunchResult with URL and PID\n   - 30s timeout for startup with clear error messages\n   - Graceful shutdown with SIGTERM, force kill after 5s timeout\n   - Process cleanup on error or exit\n\n✅ URL discovery:\n   - Robust regex matching for Vite's output format\n   - Handles ANSI color codes (disabled via FORCE_COLOR=0)\n   - Resolves URL on first match to avoid duplicates\n\n✅ Log streaming:\n   - Forwards stdout as 'info' logs\n   - Forwards stderr as 'error' logs\n   - ISO 8601 timestamps\n   - Disposable subscription pattern\n\n✅ Registered in demo/scaffa.config.ts as 'vite-launcher' module\n\n✅ Build successful, no TypeScript errors\n\nAll acceptance criteria met:\n- ✓ Starting managed preview launches demo dev server\n- ✓ Stopping managed preview shuts down dev server cleanly\n- ✓ Failure modes produce actionable errors (timeout, spawn errors, exit codes)\n\nTesting:\n- Launch Scaffa with demo workspace\n- Click 'Start Session' → 'Managed' mode\n- Select 'Vite + React' launcher\n- Verify dev server starts and preview attaches\n\nReady for next task: scaffa-7iq.19.4 (launcher-driven instrumentation) or epic completion","labels":["demo","devex","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.19.3","depends_on_id":"skaffa-7iq.19","type":"parent-child","created_at":"2026-01-11T09:22:03.614402-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.19.3","depends_on_id":"skaffa-7iq.19.1","type":"blocks","created_at":"2026-01-11T09:24:01.589662-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.19.4","title":"Managed preview: runtime capture of active router state (react-router)","description":"## Goal\nIn managed (edit mode) previews, capture **active router state** from `react-router-dom` at runtime (current location + matched routes) so Scaffa can reliably highlight “what route is currently displaying”.\n\n## Context\n- Canonical route definitions are discovered statically (see `scaffa-7iq.20.1`).\n- This ticket is specifically about runtime truth for “active route”, not canonical discovery.\n\n## Scope\n- Define a minimal managed-preview instrumentation mechanism for router state capture (Vite+React first):\n  - injection via a Vite plugin/shim/module aliasing\n  - no permanent project artifacts\n- At runtime, subscribe to router navigation/match changes (e.g. via `useMatches()` or router subscription hooks) and send structured events to Scaffa host that include:\n  - `sessionId`\n  - current `pathname`\n  - matched route ids (preferred) and/or matched paths\n- Ensure this instrumentation is scoped to managed/edit mode only.\n- Failure mode: if runtime capture cannot be installed, Scaffa continues to function with pathname-based fallback highlighting + clear messaging.\n\n## Acceptance Criteria\n- In a managed preview, Scaffa receives runtime router-state updates on navigation.\n- Routes panel can highlight the active route using matched route ids when available.\n- If instrumentation fails, Scaffa falls back to pathname-based behavior with actionable diagnostics.\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T09:22:21.747313-08:00","created_by":"dhiester","updated_at":"2026-01-11T19:51:06.81062-08:00","closed_at":"2026-01-11T19:51:06.81062-08:00","close_reason":"Closed","labels":["architecture","modules","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.19.4","depends_on_id":"skaffa-7iq.19","type":"parent-child","created_at":"2026-01-11T09:22:21.749301-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.19.4","depends_on_id":"skaffa-7iq.19.1","type":"blocks","created_at":"2026-01-11T09:24:11.933177-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.2","title":"Core: Workspace + scaffa.config.ts loading (v0)","description":"## Goal\nLoad a project workspace and its `scaffa.config.ts`, then expose effective configuration (modules, registry overrides, policies) to core services.\n\n## Context\n- `docs/scaffa_project_configuration_scaffa_config.md`\n- `docs/index.md` (Explicit Editability, Modular + Extensible)\n\n## Success Criteria\n- Scaffa can select/open a workspace folder and remember it.\n- Scaffa loads and validates `scaffa.config.ts` for that workspace.\n- The effective component registry (module registries + project overrides) is available to the Inspector.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:12.132095-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:25:00.504633-08:00","closed_at":"2026-01-10T17:25:00.504633-08:00","close_reason":"Closed","labels":["architecture","config","v0","workspace"],"dependencies":[{"issue_id":"skaffa-7iq.2","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:12.134064-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.2.1","title":"Workspace: Add open/select workspace folder flow","description":"## Work\n- Implement workspace selection (folder chooser) and persistence of last-opened workspace.\n- Surface current workspace path in the UI.\n\n## Acceptance Criteria\n- User can select a workspace folder.\n- Restarting Scaffa restores the last workspace.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:14.725863-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:20:39.733499-08:00","closed_at":"2026-01-10T17:20:39.733499-08:00","close_reason":"Closed","labels":["electron","v0","workspace"],"dependencies":[{"issue_id":"skaffa-7iq.2.1","depends_on_id":"skaffa-7iq.2","type":"parent-child","created_at":"2026-01-10T16:08:14.728348-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.2.2","title":"Config: Implement scaffa.config.ts schema + loader","description":"## Context\n`scaffa.config.ts` is code (not JSON). It declares enabled modules and project-level overrides.\n\nRelated doc: `docs/scaffa_project_configuration_scaffa_config.md`\n\n## Work\n- Define the config schema (TS + Zod).\n- Implement loading/validation for a workspace's `/scaffa.config.ts`.\n\n## Acceptance Criteria\n- Invalid config fails with a clear error message.\n- Loaded config is available to main + extension host.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:14.951705-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:23:03.376418-08:00","closed_at":"2026-01-10T17:23:03.376418-08:00","close_reason":"Closed","labels":["config","v0"],"dependencies":[{"issue_id":"skaffa-7iq.2.2","depends_on_id":"skaffa-7iq.2","type":"parent-child","created_at":"2026-01-10T16:08:14.956156-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.2.3","title":"Registry: Compose module registries + project overrides into effective registry","description":"## Context\nInspector behavior depends on the effective component registry.\n\nRelated doc: `docs/scaffa_component_registry_schema.md`\n\n## Work\n- Compose module-provided registries in module list order.\n- Apply project overrides last.\n\n## Acceptance Criteria\n- Composition rules match the doc (later modules win; project overrides last).\n- Disabled components/props are enforced.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:15.17626-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:25:00.499574-08:00","closed_at":"2026-01-10T17:25:00.499574-08:00","close_reason":"Closed","labels":["inspector","registry","v0"],"dependencies":[{"issue_id":"skaffa-7iq.2.3","depends_on_id":"skaffa-7iq.2","type":"parent-child","created_at":"2026-01-10T16:08:15.17864-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.20","title":"Routes: react-router-dom day-1 route list + navigation","description":"## Goal\nSupport a basic Routes panel experience for apps using `react-router-dom`, to help demonstrate the Scaffa vision early.\n\n## Principles\n- **Code is the source of truth** for routes.\n- Prefer **no permanent Scaffa artifacts** in the target project when feasible.\n- Route support should be modular (router/toolchain-specific producers).\n\n## Scope (v0-friendly)\n- Discover a route tree from `react-router-dom` usage (start with data-router route objects).\n- Represent routes in the Project Graph (`route` nodes + edges).\n- Render a minimal Routes panel and allow navigating the preview to a selected route.\n\n## Success Criteria\n- For a demo app using `react-router-dom`, Scaffa shows a route list and can navigate the preview to a chosen route.\n- Failure modes are clear (unsupported route patterns, dynamic routes).\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-11T09:22:40.94251-08:00","created_by":"dhiester","updated_at":"2026-01-12T14:50:26.419525-08:00","closed_at":"2026-01-12T14:50:26.419525-08:00","close_reason":"All scoped tasks complete for v0 routes panel (discovery + graph + navigation UI).","labels":["preview","project-graph","react","ux","v0"],"dependencies":[{"issue_id":"skaffa-7iq.20","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T09:22:40.944874-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.20.1","title":"React Router: decide route discovery strategy (static vs managed instrumentation)","description":"## Goal\nDecide the v0 strategy for discovering `react-router-dom` routes while keeping **code as the source of truth** and aligning with the “Scaffa-enabled islands” adoption model.\n\n## Decision (v0)\n- **Canonical route list:** **Static discovery** from a Scaffa-constrained, code-authored route definition module using React Router’s **data-router (object) API**.\n- **JSX-based route definitions:** out of scope for v0.\n- **One island → one router:** treat router choice as an explicit project config selection (no auto-guessing).\n- **Active route highlight:** use **runtime-captured router state** (matches/current location) as the source of truth for “what route is currently displaying”, while the canonical route list remains code-authored.\n\n## Constraints for Scaffa-enabled islands\nTo make static discovery reliable, a Scaffa-enabled island must follow a convention (configured) such as:\n- a single exported `RouteObject[]` (or equivalent) in a known file\n- each route provides a **stable `id`** (preferred) so Scaffa can join:\n  - graph route nodes\n  - runtime match events\n  - UI selection/highlighting\n\n## Implementation impact\n- `scaffa-7iq.20.2` (graph producer) should parse the canonical route module and emit route nodes/edges with stable ids.\n- `scaffa-7iq.20.3` (Routes panel) should render the route tree and highlight the active route using runtime-captured router state when available.\n- `scaffa-7iq.19.4` should be repurposed to implement runtime capture of router state (matches/current route) for managed previews.\n\n## Acceptance Criteria\n- This decision is recorded here and reflected in the dependent tickets.\n- Follow-up tickets are updated to reflect:\n  - object/data-router API only\n  - static canonical route discovery\n  - runtime capture for active route state/highlighting\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:22:57.755954-08:00","created_by":"dhiester","updated_at":"2026-01-11T15:25:37.037534-08:00","closed_at":"2026-01-11T15:25:37.037534-08:00","close_reason":"Decision recorded: static canonical discovery (data-router objects) + runtime capture for active route state; follow-up tickets updated; docs aligned.","labels":["architecture","project-graph","react","v0"],"dependencies":[{"issue_id":"skaffa-7iq.20.1","depends_on_id":"skaffa-7iq.20","type":"parent-child","created_at":"2026-01-11T09:22:57.758194-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.20.2","title":"Graph producer: populate route nodes from react-router-dom","description":"## Goal\nPopulate Project Graph `route` nodes/edges for Scaffa-enabled islands using `react-router-dom` **data-router route objects** as the canonical source of truth.\n\n## Scope\n- Implement a `react-router` graph producer that statically reads/parses a configured “canonical route module” and emits:\n  - `route` nodes (nested)\n  - any minimal edges needed for a v0 Routes panel\n- Require (or strongly prefer) stable route ids:\n  - Prefer React Router route `id` as `RouteId`.\n  - If `id` is missing, derive a deterministic fallback id (document limitations) and emit diagnostics.\n- Normalize route paths for stability (e.g. `route:/settings`).\n- Best-effort `SourceRef` attribution to route definitions.\n\n## Acceptance Criteria\n- Demo/Scaffa-enabled island routes appear in the Project Graph deterministically.\n- Graph updates deterministically when the canonical route module changes.\n- Unsupported patterns fail with clear diagnostics (not silent empty list).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:23:14.757295-08:00","created_by":"dhiester","updated_at":"2026-01-11T19:48:47.587617-08:00","closed_at":"2026-01-11T19:48:47.587617-08:00","close_reason":"Closed","labels":["extension-host","project-graph","react","v0"],"dependencies":[{"issue_id":"skaffa-7iq.20.2","depends_on_id":"skaffa-7iq.20","type":"parent-child","created_at":"2026-01-11T09:23:14.760869-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.20.2","depends_on_id":"skaffa-7iq.20.1","type":"blocks","created_at":"2026-01-11T09:24:22.271826-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.20.3","title":"UI: Routes panel v0 (list + navigate)","description":"## Goal\nExpose a minimal Routes panel powered by the Project Graph, with an “active route” highlight driven by runtime router state when available.\n\n## Scope\n- Render a nested route list/tree from graph `route` nodes.\n- Allow selecting a route to navigate the active app preview session to that path.\n- Highlight the currently active route:\n  - Preferred: based on runtime-captured router state (matched route ids) when available.\n  - Fallback: based on `window.location.pathname` matching when router state is unavailable.\n- Provide clear empty/error states when no routes are available or discovery/config is missing.\n\n## Acceptance Criteria\n- Routes panel renders routes for the demo/Scaffa-enabled island.\n- Clicking a route navigates the preview runtime to that path.\n- The active route highlight updates when navigation occurs (at least via pathname fallback; exact match ids when runtime router state capture is present).\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T09:23:31.567543-08:00","created_by":"dhiester","updated_at":"2026-01-11T19:53:28.392158-08:00","closed_at":"2026-01-11T19:53:28.392158-08:00","close_reason":"Closed","labels":["project-graph","renderer","ux","v0"],"dependencies":[{"issue_id":"skaffa-7iq.20.3","depends_on_id":"skaffa-7iq.20","type":"parent-child","created_at":"2026-01-11T09:23:31.569558-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.20.3","depends_on_id":"skaffa-7iq.20.1","type":"blocks","created_at":"2026-01-11T09:24:32.602798-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.20.3","depends_on_id":"skaffa-7iq.20.2","type":"blocks","created_at":"2026-01-11T09:24:42.940868-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.21","title":"Preview UX: stop/exit controls + keyboard policy","description":"## Goal\\nDefine and implement a consistent way to exit/stop preview sessions without interfering with in-app keyboard handling.\\n\\n## Context\\nWe adopted v0 input semantics: Alt/Option+Click picks (prevents app interaction for that click), Esc clears selection only when something is selected; otherwise Esc passes through to the app.\\n\\n## Questions\\n- Where should a user click to stop/exit a preview session? (Toolbar button, panel control, menu item, shortcut)\\n- Should Esc ever stop a preview session, given web apps frequently bind Esc to modals/overlays?\\n- If we add a Play/Inspect toggle later, where should the discoverability hint anchor?\\n\\n## Acceptance\\n- Clear UX affordance to stop a preview session\\n- Keyboard shortcut policy documented (what Scaffa consumes vs passes through)\\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T19:40:41.869356-08:00","created_by":"dhiester","updated_at":"2026-01-11T21:21:34.555325-08:00","closed_at":"2026-01-11T21:21:34.555325-08:00","close_reason":"Closed","labels":["preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.21","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T19:40:41.871478-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.22","title":"Preview UX: inspect highlight polish + accessibility","description":"## Goal\\nMake inspect-mode highlighting and selection visuals robust, accessible, and consistent across preview runtimes.\\n\\n## Context\\nv0 contract: Interact by default; Inspect via Alt/Option+hover highlight + Alt/Option+Click pick; Esc clears selection when something is selected.\\n\\n## Scope\\n- Candidate highlight while Alt/Option held (hover)\\n- Persistent selected highlight\\n- No layout shifts\\n- Works with nested instances and common DOM patterns\\n- Does not interfere with app input outside inspect gesture\\n\\n## Accessibility\\n- Ensure color choices meet contrast requirements where possible\\n- Consider a non-color cue (e.g., outline style/width)\\n- Document any limitations (e.g., portals/iframes)\\n\\n## Acceptance\\n- Hover highlight appears only during inspect gesture\\n- Selected highlight persists until cleared\\n- Alt/Option+Click prevents app interaction\\n- Esc clears selection without breaking app Esc when nothing is selected\\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T20:14:36.895068-08:00","created_by":"dhiester","updated_at":"2026-01-11T21:33:48.394562-08:00","closed_at":"2026-01-11T21:33:48.394562-08:00","close_reason":"Closed","labels":["a11y","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.22","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T20:14:36.897025-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.23","title":"Preview UX: discoverability hint overlay (Scaffa-owned)","description":"## Goal\\nProvide a non-intrusive hint explaining inspect controls (Alt/Option+Click, Esc clears) without injecting UI into the app DOM.\\n\\n## Context\\nWe currently show a hint, but long-term we want the hint owned by Scaffa (renderer/host overlay) so it can't conflict with app styling or layout.\\n\\n## Requirements\\n- Displays near preview controls when they exist; otherwise upper-left of preview\\n- Shows for ~3s and fades out\\n- Never captures pointer events\\n- Can be re-shown (e.g., on session start or via help)\\n\\n## Acceptance\\n- Hint appears on preview session ready\\n- Hint is implemented outside the guest app DOM\\n- Behavior is documented in preview interaction contract docs\\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T20:14:41.004636-08:00","created_by":"dhiester","updated_at":"2026-01-12T00:09:58.388579-08:00","closed_at":"2026-01-12T00:09:58.388579-08:00","close_reason":"Closed","labels":["preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.23","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-11T20:14:41.006893-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.3","title":"Core: Extension host process + module contributions (v0)","description":"## Goal\nRun trusted modules in a dedicated Extension Host process and plumb their contributions into core.\n\n## Context\n- `docs/index.md` (Extension Host Architecture)\n- `docs/scaffa_extension_api.md`\n\n## Scope\n- Spawn/supervise a separate extension host process.\n- Minimal activation model (`activate(ctx)`).\n- Contribution pipelines:\n  - component registries\n  - graph producers (snapshot/patch)\n  - runtime adapter bundle metadata (v0 stub)\n\n## Success Criteria\n- Extension host runs in its own process.\n- A sample module can activate and contribute at least one registry + one graph patch.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:12.314546-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:39:12.344527-08:00","closed_at":"2026-01-10T17:39:12.344527-08:00","close_reason":"Closed","labels":["architecture","extension-host","modules","v0"],"dependencies":[{"issue_id":"skaffa-7iq.3","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:12.316459-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.3.1","title":"Extension host: Spawn/supervise dedicated process from main","description":"## Work\n- Implement a dedicated extension host process (separate from main/renderer).\n- Add basic supervision (restart on crash, clean shutdown).\n\n## Acceptance Criteria\n- Extension host runs in its own PID.\n- Main can detect and report extension host lifecycle.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:15.404485-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:39:12.326105-08:00","closed_at":"2026-01-10T17:39:12.326105-08:00","close_reason":"Closed","labels":["electron","extension-host","v0"],"dependencies":[{"issue_id":"skaffa-7iq.3.1","depends_on_id":"skaffa-7iq.3","type":"parent-child","created_at":"2026-01-10T16:08:15.407435-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.3.2","title":"Extension API: Minimal activate(ctx) + module loading from config","description":"## Context\nModules should never import Scaffa internals; they use the extension API.\n\nRelated doc: `docs/scaffa_extension_api.md`\n\n## Work\n- Implement a minimal `ExtensionContext` and activation pipeline.\n- Load enabled modules from `scaffa.config.ts`.\n\n## Acceptance Criteria\n- A demo module can activate and register contributions.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:15.624401-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:39:12.33118-08:00","closed_at":"2026-01-10T17:39:12.33118-08:00","close_reason":"Closed","labels":["extension-host","modules","v0"],"dependencies":[{"issue_id":"skaffa-7iq.3.2","depends_on_id":"skaffa-7iq.3","type":"parent-child","created_at":"2026-01-10T16:08:15.626476-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.3.3","title":"Extension host → main: Registry contribution pipeline","description":"## Work\n- Allow modules to contribute component registries.\n- Deliver registries to main for composition and renderer consumption.\n\n## Acceptance Criteria\n- Registry contributions arrive deterministically and are visible to the Inspector.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:15.837719-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:39:12.335266-08:00","closed_at":"2026-01-10T17:39:12.335266-08:00","close_reason":"Closed","labels":["extension-host","registry","v0"],"dependencies":[{"issue_id":"skaffa-7iq.3.3","depends_on_id":"skaffa-7iq.3","type":"parent-child","created_at":"2026-01-10T16:08:15.842136-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.3.4","title":"Extension host → main: Graph snapshot/patch producer pipeline (stub)","description":"## Work\n- Implement a channel for producers to send graph snapshots and ordered patches to main.\n\n## Acceptance Criteria\n- Main receives and applies at least one sample patch from extension host.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:16.058331-08:00","created_by":"dhiester","updated_at":"2026-01-10T17:39:12.339536-08:00","closed_at":"2026-01-10T17:39:12.339536-08:00","close_reason":"Closed","labels":["extension-host","project-graph","v0"],"dependencies":[{"issue_id":"skaffa-7iq.3.4","depends_on_id":"skaffa-7iq.3","type":"parent-child","created_at":"2026-01-10T16:08:16.062077-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.4","title":"Core: Preview sessions (app) + runtime handshake (v0)","description":"## Goal\nImplement `app` preview sessions owned by main, with lifecycle events and a runtime adapter handshake.\n\n## Context\n- `docs/scaffa_preview_session_protocol.md`\n- `docs/scaffa_runtime_adapter_contract.md`\n- `docs/scaffa_ipc_boundaries_and_sequences.md`\n\n## Success Criteria\n- Renderer can start/stop an `app` session via preload APIs.\n- Main owns the session WebContents and emits lifecycle events.\n- Runtime adapter handshake works (`runtime.ready` → `host.init`).\n- Selection events are session-scoped and routed to renderer.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:12.493458-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:37:29.685147-08:00","closed_at":"2026-01-10T21:37:29.685147-08:00","close_reason":"Closed","labels":["electron","ipc","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.4","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:12.495587-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.4.1","title":"Preview: Implement app session manager (state machine + IPC)","description":"## Context\nMain owns session lifetimes; renderer requests start/stop.\n\nRelated doc: `docs/scaffa_preview_session_protocol.md`\n\n## Work\n- Implement session creation/loading/stopping state machine in main.\n- Expose `preview.startSession` / `preview.stopSession` via IPC.\n\n## Acceptance Criteria\n- Starting a session yields a sessionId and lifecycle events.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:16.289116-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:37:29.66452-08:00","closed_at":"2026-01-10T21:37:29.66452-08:00","close_reason":"Closed","labels":["electron","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.4.1","depends_on_id":"skaffa-7iq.4","type":"parent-child","created_at":"2026-01-10T16:08:16.292418-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.4.2","title":"Preview: Create preview runtime WebContents (window/view) and load URL","description":"## Work\n- Create the underlying WebContents for an app preview session (BrowserView or BrowserWindow).\n- Load the configured URL.\n\n## Acceptance Criteria\n- User can see the preview runtime and interact with it.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:16.512053-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:37:29.674283-08:00","closed_at":"2026-01-10T21:37:29.674283-08:00","close_reason":"Closed","labels":["electron","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.4.2","depends_on_id":"skaffa-7iq.4","type":"parent-child","created_at":"2026-01-10T16:08:16.514075-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.4.3","title":"Preview transport: Bridge runtime adapter events to main (runtime.ready, selection)","description":"## Work\n- Implement a host↔runtime transport for the runtime adapter.\n- Route `runtime.ready` and `runtime.selectionChanged` to main.\n\n## Acceptance Criteria\n- Main receives `runtime.ready` and selection events with correct session attribution.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:16.829666-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:37:29.677381-08:00","closed_at":"2026-01-10T21:37:29.677381-08:00","close_reason":"Closed","labels":["ipc","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.4.3","depends_on_id":"skaffa-7iq.4","type":"parent-child","created_at":"2026-01-10T16:08:16.831923-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.4.4","title":"Preview handshake: On runtime.ready, send host.init with initial overrides","description":"## Work\n- On `runtime.ready`, main sends `host.init {sessionId, initialOverrides}`.\n\n## Acceptance Criteria\n- Overrides replay after reload/reconnect.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:17.055738-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:37:29.681665-08:00","closed_at":"2026-01-10T21:37:29.681665-08:00","close_reason":"Closed","labels":["overrides","preview","v0"],"dependencies":[{"issue_id":"skaffa-7iq.4.4","depends_on_id":"skaffa-7iq.4","type":"parent-child","created_at":"2026-01-10T16:08:17.059476-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.5","title":"Adapter: React runtime adapter v0 (selection + overrides)","description":"## Goal\nDeliver the first concrete runtime adapter implementation for React, satisfying the framework-agnostic contract.\n\n## Context\n- `docs/scaffa_runtime_adapter_contract.md`\n- `docs/scaffa_preview_session_protocol.md`\n\n## Success Criteria\n- Adapter emits `runtime.ready`.\n- Adapter emits `runtime.selectionChanged` from click-to-select.\n- Adapter applies `OverrideOp[]` (set/clear/clearInstance/clearAll) non-destructively.\n- A demo harness exists to validate the flow end-to-end.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:12.668268-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:51:29.460261-08:00","closed_at":"2026-01-10T21:51:29.460261-08:00","close_reason":"Closed","labels":["preview","react","runtime-adapter","v0"],"dependencies":[{"issue_id":"skaffa-7iq.5","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:12.670461-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.5.1","title":"Runtime adapter (React): Implement adapter bundle skeleton + host command handling","description":"## Work\n- Implement the runtime-side adapter bundle:\n  - emit `runtime.ready`\n  - accept `host.init` and `host.applyOverrides`\n\n## Acceptance Criteria\n- Adapter can connect to host transport and exchange messages.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:17.277861-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:51:29.445521-08:00","closed_at":"2026-01-10T21:51:29.445521-08:00","close_reason":"Closed","labels":["react","runtime-adapter","v0"],"dependencies":[{"issue_id":"skaffa-7iq.5.1","depends_on_id":"skaffa-7iq.5","type":"parent-child","created_at":"2026-01-10T16:08:17.281361-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.5.2","title":"Runtime adapter (React): Click-to-select emitting InstanceDescriptor","description":"## Work\n- Implement click-to-select.\n- Resolve click to `{ instanceId, componentTypeId }` using a stable hit-test strategy.\n\n## Acceptance Criteria\n- Clicking selectable UI emits `runtime.selectionChanged` immediately.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:17.543946-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:51:29.450065-08:00","closed_at":"2026-01-10T21:51:29.450065-08:00","close_reason":"Closed","labels":["runtime-adapter","selection","v0"],"dependencies":[{"issue_id":"skaffa-7iq.5.2","depends_on_id":"skaffa-7iq.5","type":"parent-child","created_at":"2026-01-10T16:08:17.548219-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.5.3","title":"Runtime adapter (React): Apply/clear OverrideOp[] non-destructively","description":"## Work\n- Maintain an override map keyed by instanceId + propPath.\n- Apply `set/clear/clearInstance/clearAll` ops.\n\n## Acceptance Criteria\n- Preview re-renders with the effective override value.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:17.765255-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:51:29.453362-08:00","closed_at":"2026-01-10T21:51:29.453362-08:00","close_reason":"Closed","labels":["overrides","runtime-adapter","v0"],"dependencies":[{"issue_id":"skaffa-7iq.5.3","depends_on_id":"skaffa-7iq.5","type":"parent-child","created_at":"2026-01-10T16:08:17.769254-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.5.4","title":"Runtime adapter (React): Add minimal demo harness app to validate flow","description":"## Work\n- Add a minimal React preview target that Scaffa can load as an `app` session.\n- Instrument at least 2 component types with stable instance identity.\n\n## Acceptance Criteria\n- End-to-end: start preview → click-to-select → edit prop → preview updates.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:17.985957-08:00","created_by":"dhiester","updated_at":"2026-01-10T21:51:29.456527-08:00","closed_at":"2026-01-10T21:51:29.456527-08:00","close_reason":"Closed","labels":["demo","runtime-adapter","v0"],"dependencies":[{"issue_id":"skaffa-7iq.5.4","depends_on_id":"skaffa-7iq.5","type":"parent-child","created_at":"2026-01-10T16:08:17.989477-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.6","title":"Core: Override store + persistence (v0)","description":"## Goal\nImplement the authoritative override store and persistence model that powers Inspector edits.\n\n## Context\n- `docs/scaffa_override_model.md`\n- `docs/scaffa_preview_session_protocol.md`\n\n## Success Criteria\n- Host supports `set/clear/clearInstance/clearAll` transactions.\n- Overrides are persisted transactionally to `/.scaffa/overrides.v0.json` with deterministic ordering.\n- Orphaned overrides are never silently dropped and can be cleared.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:12.863666-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:01:19.413703-08:00","closed_at":"2026-01-10T22:01:19.413703-08:00","close_reason":"Closed","labels":["overrides","persistence","v0"],"dependencies":[{"issue_id":"skaffa-7iq.6","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:12.865911-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.6.1","title":"Overrides: Implement authoritative host override store (set/clear/etc)","description":"## Context\nHost is authoritative for override state.\n\nRelated doc: `docs/scaffa_override_model.md`\n\n## Work\n- Implement override operations and session-target scoping.\n\n## Acceptance Criteria\n- Store behavior matches doc semantics.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:18.202275-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:01:19.400032-08:00","closed_at":"2026-01-10T22:01:19.400032-08:00","close_reason":"Closed","labels":["overrides","v0"],"dependencies":[{"issue_id":"skaffa-7iq.6.1","depends_on_id":"skaffa-7iq.6","type":"parent-child","created_at":"2026-01-10T16:08:18.20646-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.6.2","title":"Overrides: Persist to /.scaffa/overrides.v0.json transactionally + deterministically","description":"## Work\n- Read/write overrides file for the workspace.\n- Use deterministic ordering and atomic writes.\n\n## Acceptance Criteria\n- File diffs are stable and reviewable.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:18.431809-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:01:19.404168-08:00","closed_at":"2026-01-10T22:01:19.404168-08:00","close_reason":"Closed","labels":["overrides","persistence","v0"],"dependencies":[{"issue_id":"skaffa-7iq.6.2","depends_on_id":"skaffa-7iq.6","type":"parent-child","created_at":"2026-01-10T16:08:18.433958-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.6.3","title":"Overrides: Track and surface orphaned overrides (never silently drop)","description":"## Work\n- Track overrides that fail to apply (instance missing/unstable identity).\n- Provide clear UI/commands to clear orphaned overrides.\n\n## Acceptance Criteria\n- Orphaned overrides are visible and clearable.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:18.658865-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:01:19.40709-08:00","closed_at":"2026-01-10T22:01:19.40709-08:00","close_reason":"Closed","labels":["overrides","v0"],"dependencies":[{"issue_id":"skaffa-7iq.6.3","depends_on_id":"skaffa-7iq.6","type":"parent-child","created_at":"2026-01-10T16:08:18.661663-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.6.4","title":"Overrides: Route override changes to runtime adapter + renderer","description":"## Work\n- On mutation, persist overrides and forward patch ops to the active session runtime.\n- Notify renderer so Inspector can reflect overridden state.\n\n## Acceptance Criteria\n- Preview and Inspector stay in sync after each override op batch.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:18.898883-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:01:19.410207-08:00","closed_at":"2026-01-10T22:01:19.410207-08:00","close_reason":"Closed","labels":["ipc","overrides","v0"],"dependencies":[{"issue_id":"skaffa-7iq.6.4","depends_on_id":"skaffa-7iq.6","type":"parent-child","created_at":"2026-01-10T16:08:18.902186-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.7","title":"Feature: Inspector UI v0 (registry-driven, instance-first)","description":"## Goal\nImplement the instance-first Inspector UI using the component registry schema and override semantics.\n\n## Context\n- `docs/scaffa_inspector_ux_semantics.md`\n- `docs/scaffa_component_registry_schema.md`\n- `docs/scaffa_override_model.md`\n\n## Success Criteria\n- Inspector renders canonical editability states (editable / inspect-only / opaque).\n- Editable props render canonical controls and produce overrides.\n- Overridden state + reset affordances match the semantics doc.\n- Escape hatches exist (open/copy source location when available).\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:13.057118-08:00","created_by":"dhiester","updated_at":"2026-01-11T02:32:50.211354-08:00","closed_at":"2026-01-11T02:32:50.211354-08:00","close_reason":"All subtasks completed. Inspector UI v0 implemented with registry-driven prop list, control renderers, override wiring, and orphaned override handling.","labels":["inspector","renderer","ux","v0"],"dependencies":[{"issue_id":"skaffa-7iq.7","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:13.059633-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.7.1","title":"Inspector: Replace placeholder panel with selected instance descriptor + states","description":"## Work\n- Render selected instance descriptor (sessionId/instanceId/componentTypeId) when available.\n- Render a clear empty state when nothing is selected.\n\n## Acceptance Criteria\n- Selection changes update Inspector immediately.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:19.119945-08:00","created_by":"dhiester","updated_at":"2026-01-11T02:32:45.42793-08:00","closed_at":"2026-01-11T02:32:45.42793-08:00","close_reason":"Closed","labels":["inspector","renderer","v0"],"dependencies":[{"issue_id":"skaffa-7iq.7.1","depends_on_id":"skaffa-7iq.7","type":"parent-child","created_at":"2026-01-10T16:08:19.122458-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.7.2","title":"Inspector: Render registry-driven prop list with editability semantics","description":"## Context\nInspector semantics are canonical.\n\nRelated doc: `docs/scaffa_inspector_ux_semantics.md`\n\n## Work\n- Use effective registry entries to render editable vs inspect-only vs opaque props.\n- Support grouping/order.\n\n## Acceptance Criteria\n- Inspector semantics match the doc.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:19.346871-08:00","created_by":"dhiester","updated_at":"2026-01-11T02:32:45.436478-08:00","closed_at":"2026-01-11T02:32:45.436478-08:00","close_reason":"Closed","labels":["inspector","registry","v0"],"dependencies":[{"issue_id":"skaffa-7iq.7.2","depends_on_id":"skaffa-7iq.7","type":"parent-child","created_at":"2026-01-10T16:08:19.349054-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.7.3","title":"Inspector: Implement control renderers + TanStack Form wiring","description":"## Work\n- Implement control renderers for canonical control kinds (string/number/boolean/select/color/json).\n- Wire edits via @tanstack/form.\n\n## Acceptance Criteria\n- Changing a value produces a validated draft and commit action.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:19.556223-08:00","created_by":"dhiester","updated_at":"2026-01-11T02:32:45.441018-08:00","closed_at":"2026-01-11T02:32:45.441018-08:00","close_reason":"Closed","labels":["inspector","renderer","v0"],"dependencies":[{"issue_id":"skaffa-7iq.7.3","depends_on_id":"skaffa-7iq.7","type":"parent-child","created_at":"2026-01-10T16:08:19.559147-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.7.4","title":"Inspector: Wire edits to overrides (set/reset) and render overridden/orphaned states","description":"## Work\n- On commit, call overrides.set.\n- Add reset actions (clear / clearInstance / clearAll).\n- Render overridden indicators and orphaned override affordances.\n\n## Acceptance Criteria\n- Override UX matches `docs/scaffa_inspector_ux_semantics.md`.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:19.771023-08:00","created_by":"dhiester","updated_at":"2026-01-11T02:32:45.445478-08:00","closed_at":"2026-01-11T02:32:45.445478-08:00","close_reason":"Closed","labels":["inspector","overrides","v0"],"dependencies":[{"issue_id":"skaffa-7iq.7.4","depends_on_id":"skaffa-7iq.7","type":"parent-child","created_at":"2026-01-10T16:08:19.773028-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.8","title":"Core: Project Graph v0 (snapshot + patch propagation)","description":"## Goal\nImplement the canonical Project Graph store + patch protocol plumbing across extension host → main → renderer.\n\n## Context\n- `docs/scaffa_project_graph_schema.md`\n- `docs/scaffa_ipc_boundaries_and_sequences.md`\n\n## Success Criteria\n- Main can serve a graph snapshot and apply ordered patches.\n- Renderer receives patches and updates its graph views.\n- At least one producer emits sample route/type nodes + edges.\n","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:08:13.326197-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:45:51.835952-08:00","closed_at":"2026-01-10T22:45:51.835952-08:00","close_reason":"Closed","labels":["architecture","project-graph","renderer","v0"],"dependencies":[{"issue_id":"skaffa-7iq.8","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:13.329099-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.8.1","title":"Project Graph: Implement main-side canonical graph store + patch apply","description":"## Context\nMain is the broker/authority for the canonical graph.\n\nRelated doc: `docs/scaffa_project_graph_schema.md`\n\n## Work\n- Implement graph snapshot storage and ordered patch application.\n\n## Acceptance Criteria\n- Duplicate/out-of-order patches are handled per v0 guarantees.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:19.978818-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:33:43.331965-08:00","closed_at":"2026-01-10T22:33:43.331965-08:00","close_reason":"Closed","labels":["project-graph","v0"],"dependencies":[{"issue_id":"skaffa-7iq.8.1","depends_on_id":"skaffa-7iq.8","type":"parent-child","created_at":"2026-01-10T16:08:19.98101-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.8.2","title":"Project Graph: Expose getSnapshot + patch subscription to renderer","description":"## Work\n- Add preload + IPC plumbing for snapshot + patch subscription.\n\n## Acceptance Criteria\n- Renderer can request snapshot and receive patches.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:20.188797-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:38:20.480696-08:00","closed_at":"2026-01-10T22:38:20.480696-08:00","close_reason":"Closed","labels":["ipc","project-graph","v0"],"dependencies":[{"issue_id":"skaffa-7iq.8.2","depends_on_id":"skaffa-7iq.8","type":"parent-child","created_at":"2026-01-10T16:08:20.192468-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.8.3","title":"Project Graph: Replace placeholder UI with live snapshot/patch view","description":"## Work\n- Update `src/renderer/components/ProjectGraphTable.tsx` to render live graph snapshot.\n\n## Acceptance Criteria\n- Graph view updates when patches arrive.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:20.404028-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:45:43.62832-08:00","closed_at":"2026-01-10T22:45:43.62832-08:00","close_reason":"Closed","labels":["project-graph","renderer","v0"],"dependencies":[{"issue_id":"skaffa-7iq.8.3","depends_on_id":"skaffa-7iq.8","type":"parent-child","created_at":"2026-01-10T16:08:20.406927-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.8.4","title":"Project Graph: Extension host emits sample snapshot/patch (routes + components)","description":"## Work\n- Emit a small sample graph from extension host to validate plumbing.\n\n## Acceptance Criteria\n- Renderer graph view shows sample nodes/edges.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:20.617254-08:00","created_by":"dhiester","updated_at":"2026-01-10T22:44:33.318144-08:00","closed_at":"2026-01-10T22:44:33.318144-08:00","close_reason":"Closed","labels":["extension-host","project-graph","v0"],"dependencies":[{"issue_id":"skaffa-7iq.8.4","depends_on_id":"skaffa-7iq.8","type":"parent-child","created_at":"2026-01-10T16:08:20.620122-08:00","created_by":"dhiester"}]}
{"id":"skaffa-7iq.9","title":"Demo: v0 journey walkthrough checklist","description":"## Goal\nMaintain a single checklist for validating the v0 \"first user journey\" demo end-to-end.\n\n## Demo Steps\n- Open a workspace configured for Scaffa.\n- Start an `app` preview session:\n  - **Attached (view mode):** attach by URL to an already-running demo app.\n  - **Managed (edit mode):** start the demo app via a Scaffa-launched preview launcher (when available).\n- Click-to-select an instance in preview.\n- Inspector shows instance + props with correct semantics.\n- Edit an editable prop; preview updates; Inspector shows overridden state.\n- Reset/clear the override; preview returns to baseline.\n- Persist overrides; verify `/.scaffa/overrides.v0.json` is updated deterministically.\n\n## Acceptance Criteria\n- Checklist stays in sync with `docs/scaffa_v0_scope_and_user_journey.md`.\n- All steps can be executed without manual DB/file hacking.\n","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T16:08:13.584522-08:00","created_by":"dhiester","updated_at":"2026-01-11T19:40:10.809081-08:00","closed_at":"2026-01-11T19:40:10.809081-08:00","close_reason":"Canonical v0 walkthrough checklist lives in docs/scaffa_v0_scope_and_user_journey.md; demo TESTING links to it. Implemented v0 inspect interaction (Alt/Option+hover/click, Esc clears selection) so journey is executable without manual file/DB hacking.","labels":["demo","v0"],"dependencies":[{"issue_id":"skaffa-7iq.9","depends_on_id":"skaffa-7iq","type":"parent-child","created_at":"2026-01-10T16:08:13.587645-08:00","created_by":"dhiester"},{"issue_id":"skaffa-7iq.9","depends_on_id":"skaffa-diq","type":"blocks","created_at":"2026-01-11T02:52:43.766442-08:00","created_by":"dhiester"}]}
{"id":"skaffa-8vd","title":"Editor View: embed runtime canvas and consume clicks for selection","description":"Implement the Workbench center workspace “Editor View” as an embedded preview session (purpose: editor).\n\nIn Editor View, pointer clicks should never trigger app interaction; they always drive selection + Inspector updates.\n\nAcceptance:\n- Workbench center shows an embedded runtime for the active editor session.\n- Clicking anywhere in the canvas selects the nearest resolvable instance (or no-op if none).\n- App navigation/click handlers do not fire in the editor session.\n- Selection highlight is always visible in Editor View.\n","status":"closed","priority":2,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T17:26:05.058146-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T17:32:22.291594-08:00","closed_at":"2026-01-14T17:32:22.291594-08:00","close_reason":"Superseded by v0 decision: Editor View selection uses Alt/Option+Click (not click-to-select by default); embedding work tracked in scaffa-6g8 and navigation policy in scaffa-0rp."}
{"id":"skaffa-97p","title":"Optimize workspace start: coalesce extension host restarts","description":"When selecting/opening a workspace, avoid duplicate or premature extension-host restarts. Ensure config load, override init, and graph reset are complete before restarting, and only restart once per workspace change (including IPC open and restore flows).","acceptance_criteria":"- Workspace change triggers at most one extension-host restart\\n- Restart happens after config load + override init + graph reset complete\\n- No double restart from workspaceManager + IPC handler\\n- Startup/restore path still results in a running extension host","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-20T11:58:47.191682-08:00","created_by":"Dan Hiester","updated_at":"2026-01-20T11:58:47.191682-08:00"}
{"id":"skaffa-9hi","title":"Test infra: Vitest + Playwright Electron smoke + build-script fixtures","description":"## Goal\nSet up test infrastructure for unit/component and minimal Electron smoke testing.\n\n## Scope\n- Install Vitest + @testing-library/react + @testing-library/jest-dom + jsdom.\n- Configure a root vitest.config.ts to cover workspace packages and `src/renderer`.\n- Support both `node` and `jsdom` environments (node for scripts/extension host, jsdom for React).\n- Add test scripts to root package.json (test, test:ui, test:coverage).\n- Set up test helpers and setup files.\n- Add Playwright for a minimal Electron smoke test.\n- Add build/script fixture tests:\n  - `scripts/build-workspace-modules.mjs` discovery supports `extensions/**/module`.\n  - Extension-host activation test: load a workspace config that points to `extensions/\u003cname\u003e/module` and assert activation succeeds.\n- Include a single Inspector-related test as a verification the infrastructure works (e.g., render InspectorPanel with a mocked registry).\n\n## Acceptance Criteria\n- Vitest runs in both node and jsdom modes.\n- Playwright Electron smoke test runs locally.\n- Build-script fixture tests pass.\n- At least one Inspector UI test passes as infra validation.\n- Test scripts are documented in README.","status":"closed","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-18T10:58:27.162806-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T13:05:05.633644-08:00","closed_at":"2026-01-18T13:05:05.633644-08:00","close_reason":"Closed","labels":["infra","tests"]}
{"id":"skaffa-9rm","title":"Layout primitives package: Box/Row/Stack/Grid (CSS Modules + spacing tokens)","description":"## Goal\nCreate a small React layout component library for use in project source code that mirrors Figma auto-layout primitives.\n\n## Scope\n- New workspace package under `extensions/layout/packages/layout-primitives-react` exporting Box, Row, Stack.\n- Package name: `@scaffa/layout-primitives-react` with named exports.\n- Components must avoid inline styles; styling via CSS Modules only.\n- Spacing tokens use CSS custom properties (global theme style): --space-0 through --space-16.\n- Props map to class names (enum values only, from spacing system):\n  - gap: 0..16 plus auto/space-between (Row/Stack only)\n  - padding/margin with axis variants (p, px, py, pt, pr, pb, pl, m, mx, my, mt, mr, mb, ml)\n  - align: start | center | end | stretch (Row/Stack only)\n  - justify: start | center | end | between | around | evenly (Row/Stack only)\n  - wrap: nowrap | wrap | wrap-reverse (Row/Stack only)\n  - direction: normal | reverse (Row -\u003e row/row-reverse, Stack -\u003e column/column-reverse)\n  - alignSelf: start | center | end | stretch (Box only)\n- Box is a non-layout wrapper (padding/margin + alignSelf only).\n- Row/Stack use display:flex (no inline-flex variant in v0).\n- Provide a global tokens stylesheet (or equivalent) that defines the --space-* values and is importable by consuming apps.","acceptance_criteria":"- Package builds in workspace and exports Box/Row/Stack with typed props.\n- No inline styles are used for layout props (gap/padding/margin/align/justify/wrap); all class-based CSS Modules.\n- CSS Modules reference --space-0..16 variables with fallbacks (e.g. var(--space-3, 12px)).\n- Axis padding/margin variants are supported and map to distinct classes.\n- Components accept className for composition without breaking layout classes.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:15:01.521984-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T14:45:04.445798-08:00","closed_at":"2026-01-18T14:45:04.445798-08:00","close_reason":"Closed","labels":["components","layout","registry"]}
{"id":"skaffa-9xc","title":"Registry: shadcn/ui component registry module","description":"Create a Scaffa registry module for shadcn/ui components. Provide a starter registry with stable typeIds and prop metadata, and document how to map registry entries to local component file paths in a typical shadcn layout.","acceptance_criteria":"- Module contributes a ComponentRegistry via ctx.registry.contributeRegistry.\\n- Registry includes a starter set of shadcn/ui components (e.g., Button, Card, Input, Checkbox, Select, Badge, Dialog) with editable/inspect-only prop metadata.\\n- Decide and document the typeId namespace (e.g., ui.* vs shadcn.*) and rationale.\\n- Provide default implementation hints for the conventional shadcn file layout (e.g., src/components/ui/button.tsx) or document how to set them via project overrides.\\n- Module entrypoint is added to scripts/build-workspace-modules.mjs.\\n- Short usage snippet added (module README or docs) showing scaffa.config.js usage and override guidance.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T19:36:56.784654-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T16:25:45.984546-08:00","closed_at":"2026-01-18T16:25:45.984546-08:00","close_reason":"Closed","labels":["modules","registry","shadcn"]}
{"id":"skaffa-arx","title":"CI: cross-platform builds for Electron + sidecar (unsigned)","description":"## Goal\nEnsure we do not accidentally become single-platform by validating builds on macOS/Windows/Linux from the start.\n\n## Scope\n- Add CI matrix to build:\n  - JS bundles (`pnpm build`)\n  - (when present) Rust sidecar (`cargo build --release` or equivalent)\n  - (when packager exists) packaged Electron app artifacts\n\n## Acceptance\n- CI runs on macOS/Windows/Linux.\n- Each platform produces build artifacts (unsigned is fine).\n- Failures are surfaced with actionable logs.\n\n## Deferred\n- Codesigning/notarization.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T07:04:40.577564-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T07:04:40.577564-08:00","labels":["build","ci","packaging","sidecar"],"dependencies":[{"issue_id":"skaffa-arx","depends_on_id":"skaffa-0fp","type":"relates-to","created_at":"2026-01-14T07:05:48.930836-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-arx","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T07:22:06.460751-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-aza","title":"[runtime-adapter harness] Harness/runtime adapter: inject instance identity + overrides without ScaffaInstance hook","description":"Goal: remove need for app code to import ScaffaInstance/useScaffaInstance. Implement harness-injected instance identity + override application in dev/editor runtime (adapter + launcher transform). Ensure overrides still apply and production bundles remain clean of Scaffa artifacts.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-18T16:27:17.648007-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T20:19:53.52481-08:00","closed_at":"2026-01-18T20:19:53.52481-08:00","close_reason":"Closed"}
{"id":"skaffa-azj","title":"Harness Model: Vite launcher virtual harness entry","description":"Implement a managed Vite preview launcher that injects a virtual harness entrypoint (e.g. /@scaffa/harness.tsx) and mounts the project preview root without Scaffa imports in app code.\\n\\nAcceptance:\\n- Uses project-installed Vite (loadConfigFromFile + mergeConfig)\\n- Transforms index.html to load virtual harness\\n- Harness imports preview.entry + preview.styles from scaffa.config.js\\n- Starts/stops dev server and returns a URL for PreviewSessionTarget (launcherId mode)\\n- Logs and readiness surfaced to Scaffa","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-16T08:30:14.319273-08:00","created_by":"Dan Hiester","updated_at":"2026-01-17T08:31:18.847527-08:00","closed_at":"2026-01-17T08:31:18.847527-08:00","close_reason":"Completed: Vite launcher virtual harness entry implemented + demo wiring.","labels":["harness","preview","vite"]}
{"id":"skaffa-azx","title":"Upgrade workbench to React 19","description":"Now that src/renderer is a workspace package, upgrade React from 18.x to 19.x across renderer + demo apps, and widen @scaffa/react-runtime-adapter peerDependencies (react: ^18 || ^19). Validate via pnpm build + manual smoke dev.\n\nAcceptance:\n- react/react-dom bumped in src/renderer/package.json\n- demo/app and examples/demo-app align\n- packages/react-runtime-adapter peerDependencies allow React 19\n- pnpm build passes","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T11:57:31.405336-08:00","created_by":"dhiester","updated_at":"2026-01-12T16:13:02.512843-08:00","closed_at":"2026-01-12T16:13:02.512843-08:00","close_reason":"Closed"}
{"id":"skaffa-b3f","title":"Launcher: recent workspaces (persist + open)","description":"## Summary\nAdd a recent-workspaces list to the Launcher with persistence and open actions.\n\n## Acceptance\n- After successfully opening a workspace, it appears in Launcher Recents.\n- Recents persist across restarts (store in Scaffa app data, not inside the workspace).\n- User can click a recent to reopen it.\n- Missing/moved workspaces are handled gracefully (error + option to remove from recents).\n\n## Notes\n- Keep data owned by main process; renderer reads/requests via preload.\n","status":"closed","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T12:39:30.201994-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T13:54:46.608754-08:00","closed_at":"2026-01-13T13:54:46.608754-08:00","close_reason":"Implemented launcher UI, workspace open wiring, recents, demo entry","labels":["launcher","ui","workspace"],"dependencies":[{"issue_id":"skaffa-b3f","depends_on_id":"skaffa-456","type":"blocks","created_at":"2026-01-13T12:39:30.205998-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-bef","title":"P1: Resolve v0 doc gaps (Editor View + Inspector values + Save-to-disk prerequisites)","description":"We have enough high-level architecture to proceed, but several v0 user-journey details are still under-specified and will cause rework unless we lock them down.\n\nGoal\n- Answer the questions below and update docs to be implementable (AI-agent friendly, single-source-of-truth where possible).\n\nOpen Questions (need explicit decisions)\n\n1) Editor View embedding primitive\n- Should the embedded runtime be implemented as Electron `BrowserView`, `\u003cwebview\u003e`, or a separate `BrowserWindow`?\n- If `BrowserView`: how do we manage layout/resizing/docking within the renderer-driven Workbench?\n- If `\u003cwebview\u003e`: do we accept the security/UX tradeoffs, and does it align with our sandboxing posture?\n\n2) Session start UX (attached-by-URL)\n- Where does URL entry live (session list panel, toolbar, modal)?\n- Do we support exactly one active Editor View session in v0, or multiple (tabbed/switchable)?\n\n3) Editor View input policy (beyond “clicks are consumed”)\n- Which user inputs are suppressed vs passed through in Editor View?\n  - scroll/wheel, drag, text selection, focus, keyboard shortcuts/typing, context menu\n- Should we fully prevent navigation (e.g., intercept `will-navigate`, `new-window`), or only swallow pointer clicks?\n\n4) Inspector “current value” source of truth\n- How does Scaffa obtain the current prop values needed by the Inspector?\n  - Option A: runtime adapter includes a props snapshot (JSON-only) in selection events\n  - Option B: renderer requests `runtime.getInstanceProps(instanceId)` on selection\n  - Option C: Inspector shows only override values + “unknown baseline” unless runtime can provide it\n- How do we handle non-serializable values (functions/classes) in the Inspector value model?\n\n5) Save-to-disk prerequisites: instance→source mapping\n- What is the minimum required source mapping for promotable overrides?\n  - Do we require `SourceRef {file,line,column}` for the *instance boundary callsite*?\n  - Do we require an additional “prop origin” locator (which JSX attribute should be edited)?\n- Are we willing to add a compile-time transform (Babel/SWC/Vite plugin) to annotate callsites/prop origins for the React demo stack?\n\n6) Workspace edit contract (core capability)\n- Define `FileEdit` and `EditResult` semantics for `WorkspaceAPI.applyEdits`:\n  - patch type (range replace vs unified diff vs full-file replace)\n  - conflict detection/behavior\n  - transactional guarantees (temp+rename)\n  - formatting expectations (extension runs formatter or not?)\n\n7) Navigation in Editor View (since clicks don’t navigate)\n- What is the v0 navigation affordance?\n  - URL/path bar?\n  - Routes panel “navigate” action (requires stable route graph)?\n  - Hard-coded routes for demo?\n\n8) Validation UX policy details\n- Confirm per-control validation triggers:\n  - validate-on-blur for text/number/color text\n  - validate-immediate for select/toggle\n  - 7s idle debounce (per field)\n- Confirm failure behavior: revert field + mark error + require re-entry.\n\nDeliverable\n- Update the canonical docs to reflect the decisions above (likely: preview session protocol, inspector semantics, extension API workspace edit contract, runtime adapter contract/integration guide).\n","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T19:25:29.728377-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T17:27:52.069533-08:00","closed_at":"2026-01-14T17:27:52.069533-08:00","close_reason":"Docs updated to resolve v0 doc gaps (Editor View embedding/interaction, Inspector current value policy, save prerequisites, workspace edit contract links)."}
{"id":"skaffa-blg","title":"Renderer: add core shadcn (Base UI) components","description":"Add the workbench/inspector component set using shadcn Base UI style (configured in src/renderer/components.json).\\n\\nInitial set to add (priority order):\\n- resizable, tabs, scroll-area, separator\\n- menubar, dropdown-menu, context-menu, command\\n- dialog, alert-dialog, popover, tooltip\\n- button, input, textarea, label, select/combobox, checkbox, switch, slider, toggle-group\\n- table (wrapper), badge, collapsible\\n- toast (sonner), alert, skeleton, progress\\n\\nAcceptance:\\n- No @radix-ui/* dependencies\\n- All styling uses semantic tokens from docs/design/colors.md (bg-surface-*, text-fg*, border-*, ring-*)\\n- Components live under src/renderer/components/ui per components.json alias","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T08:57:14.361378-08:00","created_by":"dhiester","updated_at":"2026-01-12T17:49:05.219819-08:00","closed_at":"2026-01-12T17:49:05.219819-08:00","close_reason":"Closed","labels":["renderer ui shadcn baseui"],"comments":[{"id":1,"issue_id":"skaffa-blg","author":"dhiester","text":"Note: shadcn config is now Base UI style (base-nova) in src/renderer/components.json; Tailwind CSS path points to src/renderer/styles.css.","created_at":"2026-01-12T17:06:29Z"}]}
{"id":"skaffa-bne","title":"Config: allow module string shorthand in scaffa.config.js","description":"Allow modules to be specified as strings (package specifiers) in scaffa.config.js, e.g. modules: ['@scaffa/registry-mui'], and normalize them to full ScaffaModule entries during config loading.","acceptance_criteria":"- scaffa.config schema accepts string entries in modules array.\\n- Loader normalizes string entries into ScaffaModule objects (id defaults to string; package resolves to string).\\n- Existing object-based module configs remain supported.\\n- Docs updated with the shorthand example.","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T19:31:57.785564-08:00","created_by":"Dan Hiester","updated_at":"2026-01-17T19:31:57.785564-08:00","labels":["config","modules"]}
{"id":"skaffa-bxg","title":"Save to disk: promote draft overrides into code edits","description":"Implement v0 Save-to-disk: convert the current draft override set into working-tree code edits.\n\nThis is the key bridge from Scaffa’s instance-first Inspector editing to real project changes.\n\nAcceptance:\n- Workbench exposes a Save action/command.\n- Save computes file edits for supported frameworks (start with demo workspace) and writes to disk transactionally.\n- After Save, the running Editor View reflects the saved changes via HMR/reload.\n- Draft overrides that were saved are cleared; remaining unsaved overrides stay as draft and are surfaced.\n- Failures are explicit and do not silently drop changes.\n","status":"closed","priority":1,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T18:00:26.045766-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T06:20:15.678243-08:00","closed_at":"2026-01-14T06:20:15.678255-08:00"}
{"id":"skaffa-c1j","title":"Launcher: Make 'Open Project' default to Managed Session with Advanced Options","description":"Refactor project opening flow:\\n1. 'Open Project' should default to launching a Managed Session (Harness Model).\\n2. Move the 'Manual vs Managed' choice (currently in the Start Session modal) to 'Advanced Options' in the Launcher/Project choice UI.\\n3. 'Advanced Options' should be hidden by default.\\n\\nContext: 'Advanced options' functionality should exist for choosing a project, making 'Managed Session' the default behavior.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-16T10:46:31.411367-08:00","created_by":"Dan Hiester","updated_at":"2026-01-16T13:09:08.559334-08:00","closed_at":"2026-01-16T13:09:08.559334-08:00","close_reason":"Closed"}
{"id":"skaffa-ccm","title":"Demo: remove Scaffa runtime wrappers/shims from demo/app","description":"Update demo/app to have zero Scaffa imports/wrappers and validate Harness Model end-to-end.\\n\\nAcceptance:\\n- demo/app src/main.tsx is a standard React bootstrapper (no Scaffa)\\n- Remove scaffa-runtime.* shims/aliases and @scaffa/react-runtime-adapter dependency from demo/app\\n- Add demo/scaffa.config.js preview.entry + preview.styles for harness mounting\\n- Managed app session starts via Vite launcher and selection/overrides work for registry-listed components\\n- demo/app production build output contains no Scaffa runtime code","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-16T08:30:35.188881-08:00","created_by":"Dan Hiester","updated_at":"2026-01-22T11:56:20.880361-08:00","closed_at":"2026-01-22T11:56:20.880361-08:00","close_reason":"Closed","labels":["demo","harness","preview"],"dependencies":[{"issue_id":"skaffa-ccm","depends_on_id":"skaffa-xv9","type":"blocks","created_at":"2026-01-17T19:10:24.808269-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-d6i","title":"CLI: Add flag to skip auto-loading last project","description":"Currently, Scaffa auto-loads the last project on start. Add a CLI flag (e.g., `--no-restore` or `--launcher`) to skip this and show the Launcher view. Update `docs/scaffa_development_guide.md` to explain this is for dev/testing, while auto-load remains the user default.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-16T10:46:26.255341-08:00","created_by":"Dan Hiester","updated_at":"2026-01-16T11:52:09.154117-08:00","closed_at":"2026-01-16T11:52:09.154117-08:00","close_reason":"Closed"}
{"id":"skaffa-dax","title":"Graph: global revision coordination across producers","description":"## Summary\nProject graph revisions are currently treated as a single monotonic counter, but graph producers each emit their own `revision` values. This breaks multi-producer graphs (duplicate/out-of-order revisions cause patches/snapshots to be ignored).\n\n## Context\n- `src/main/graph/graph-store.ts` ignores patches where `patch.revision \u003c= currentRevision`.\n- Producers (e.g. `modules/react-router-graph-producer`, `demo/extensions/demo-graph-producer`) start at revision 1 independently.\n\n## Work\nChoose and implement a v0 strategy:\n- Option A (recommended): Main assigns a global graph revision for every applied update (snapshot or patch), regardless of producer revision.\n- Option B: Extension host assigns global revisions (requires central coordination there).\n- Option C: Track per-producer revisions and translate to a global stream in main.\n\nUpdate the protocol/handling code accordingly and document the semantics in `docs/scaffa_project_graph_schema.md` (or a short addendum).\n","acceptance_criteria":"- Multiple producers can contribute nodes/edges without revision collisions.\n- Patches are never dropped due to producer-local revision reuse.\n- Renderer receives updates in a consistent order and applies them cleanly.\n- Documented guidance for extension authors on what `revision` means (or that it is ignored/overwritten by main).\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T16:57:01.007944-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T16:57:01.007944-08:00","labels":["graph","protocol"],"dependencies":[{"issue_id":"skaffa-dax","depends_on_id":"skaffa-3nm","type":"blocks","created_at":"2026-01-13T16:57:38.359043-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-diq","title":"Create demo workspace for v0 walkthrough","description":"## Goal\nBuild a minimal demo workspace to validate the complete v0 end-to-end journey.\n\n## Context\nThe Scaffa Workbench UI is complete and running, but we need a working demo workspace to test:\n- Preview session with a real React app\n- Component registry with sample components\n- Click-to-select functionality\n- Inspector editing with live updates\n- Override persistence\n\n## Implementation Steps\n\n### 1. Create Demo Workspace Structure\n```\ndemo/\n├── scaffa.config.ts           # Workspace config\n├── extensions/\n│   └── demo-module/\n│       ├── package.json\n│       └── index.ts           # Demo module contributing registry\n└── app/\n    ├── package.json\n    ├── vite.config.ts\n    ├── index.html\n    └── src/\n        ├── main.tsx           # App entry point\n        └── App.tsx            # Sample app with Button\n```\n\n### 2. Configure scaffa.config.ts\n- Set workspace root\n- Enable demo module\n- Configure module paths\n\n### 3. Create Demo Module\n- Implement extension activate() function\n- Provide component registry with:\n  - Button component metadata\n  - Editable props: variant, size, label\n  - Inspect-only props: onClick\n- Implement graph snapshot producer (routes + instances)\n\n### 4. Create Sample React App\n- Vite + React setup\n- Simple UI with Button instances\n- Configure to accept Scaffa runtime adapter injection\n- Add adapter bundle to build\n\n### 5. Wire Runtime Adapter\n- Build React runtime adapter bundle\n- Configure preview to inject adapter\n- Verify click-to-select works\n- Verify override application works\n\n## Files to Create\n- `demo/scaffa.config.ts`\n- `demo/extensions/demo-module/index.ts`\n- `demo/extensions/demo-module/package.json`\n- `demo/app/src/App.tsx`\n- `demo/app/src/main.tsx`\n- `demo/app/vite.config.ts`\n- `demo/app/package.json`\n- `demo/app/index.html`\n\n## Success Criteria\n- `pnpm dev` starts Scaffa\n- Open demo workspace via File menu\n- Registry shows Button component\n- Start app preview session\n- Preview shows running React app\n- Click Button → Inspector shows props\n- Edit variant prop → Preview updates immediately\n- Reset override → Preview returns to baseline\n- `demo/.scaffa/overrides.v0.json` persists changes\n\n## Dependencies\nAll infrastructure is complete:\n- Extension host ✓\n- Preview sessions ✓\n- Runtime adapter ✓\n- Override store ✓\n- Inspector UI ✓","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:52:25.306856-08:00","created_by":"dhiester","updated_at":"2026-01-11T06:24:40.963412-08:00","closed_at":"2026-01-11T06:24:40.963412-08:00","close_reason":"Demo workspace implementation complete with all required files, documentation, and testing checklist. Ready for v0 walkthrough validation."}
{"id":"skaffa-dof","title":"Framework save adapter: map instance+prop overrides to workspace edits","description":"Define and implement the framework-specific promotion logic that maps draft overrides (instanceId + propPath + value) to concrete workspace edits.\n\nStart with the demo stack (React + Vite) and the existing instance boundary / identity strategy.\n\nAcceptance:\n- Given a selected instance and its source location strategy, produce deterministic FileEdit[] suitable for WorkspaceAPI.applyEdits.\n- Handles common editable prop patterns (string/number/boolean enums) and errors on unsupported patterns.\n- Includes unit-testable core logic (or at least deterministic fixtures) for the mapping.\n","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T18:00:36.501475-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T06:20:30.53194-08:00","closed_at":"2026-01-14T06:20:30.53195-08:00"}
{"id":"skaffa-dsj","title":"[docs inspector] Remove ScaffaInstance guidance; align docs/Inspector messaging with harness identity","description":"Update docs and Inspector UX messaging to remove ScaffaInstance guidance and instead describe harness-provided instance identity. Sweep runtime adapter integration guide, harness model, lessons learned, demo instructions, and Inspector warning text.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-18T16:27:30.89286-08:00","created_by":"Dan Hiester","updated_at":"2026-01-21T19:13:50.473326-08:00","closed_at":"2026-01-21T19:13:50.473326-08:00","close_reason":"Closed"}
{"id":"skaffa-dvw","title":"Launcher: Open Demo Workspace shortcut","description":"## Summary\nAdd an optional Launcher action to open the repo's `demo/` workspace for quick validation.\n\n## Acceptance\n- Launcher shows `Open Demo Workspace` when Scaffa is running from the repo/dev environment (or behind a feature flag).\n- Clicking it loads the `demo/` workspace and navigates to Workbench.\n- If the demo workspace can't be found, show an actionable message (e.g., “demo/ not present in this build”).\n\n## Notes\n- Decide approach for packaged builds (bundle demo workspace vs dev-only).\n- This should not special-case core workspace loading beyond selecting the path.\n","status":"closed","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T12:39:46.217717-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T13:54:46.61099-08:00","closed_at":"2026-01-13T13:54:46.61099-08:00","close_reason":"Implemented launcher UI, workspace open wiring, recents, demo entry","labels":["demo","launcher","ui"],"dependencies":[{"issue_id":"skaffa-dvw","depends_on_id":"skaffa-456","type":"blocks","created_at":"2026-01-13T12:39:46.221549-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-dxx","title":"Extension UI contributions: render extension-provided inspector sections","description":"## Goal\nEnable extensions to contribute inspector sections with custom UI components rendered in the Workbench right pane.\n\n## Scope\n- Implement UIAPI.registerInspectorSection end-to-end: extension host -\u003e main -\u003e renderer.\n- Add a renderer-side loader for extension-provided inspector UI components (bundled with the extension).\n- Provide selection/context payload to inspector sections (selected instance, componentTypeId, registry entry, overrides).\n- Preserve process boundaries: renderer does not get Node or Electron access from extension UI code.\n- **Urgent:** Keep the inspector UI API generic and extensible; do not bake in layout-specific controls or assumptions.","acceptance_criteria":"- Extension host can register an inspector section that appears in the right pane with title/order.\n- Renderer renders the extension-provided React component for the section.\n- Section receives read-only context (selection + registry + override state) needed to render controls.\n- Failure to load a section is handled gracefully (logged and skipped).\n- No regressions to core Inspector sections when no extensions are registered.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:15:36.149219-08:00","created_by":"Dan Hiester","updated_at":"2026-01-21T19:43:49.881857-08:00","closed_at":"2026-01-21T19:43:49.881857-08:00","close_reason":"Closed","labels":["extensions","inspector","ui"]}
{"id":"skaffa-fkd","title":"Unload/Close Workspace action","description":"## Summary\nAdd an explicit \"Close Workspace\" (aka unload) action so users can return to the Launcher after loading a workspace.\n\n## Context\nRight now Scaffa can load or switch workspaces, but there is no explicit user-facing way to unload a workspace and return to the Launcher.\n\n## Scope\n- Main: add an IPC handler to clear the current workspace, reset config/registry/overrides/graph, and stop or restart the extension host in a null-workspace mode.\n- Preload: expose a typed API for the unload action.\n- Renderer: add a UI affordance (header action) when a workspace is loaded, confirm intent if needed, and navigate back to Launcher.\n- Ensure renderer stores reset appropriately on unload.\n\n## Non-Goals\n- Deleting recents\n- Template creation flows\n\n## Notes\n- Keep Electron boundaries: main owns state changes and privileged effects; renderer requests via preload.\n- Stay aligned with docs/index.md process model.\n","acceptance_criteria":"- When a workspace is loaded, the UI shows a \"Close Workspace\" action.\n- Invoking it clears the current workspace in main and broadcasts `workspace:changed` with `workspace: null`.\n- Renderer navigates to Launcher and no Workbench panels are shown.\n- Extension host is stopped or restarted such that no workspace modules remain active.\n- Config/registry/graph/override state are reset to the no-workspace defaults.\n- Action is safe to invoke repeatedly and is a no-op when no workspace is loaded.","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T16:27:41.281016-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T16:27:41.281016-08:00","labels":["ipc","launcher","ui","workspace"]}
{"id":"skaffa-g5p","title":"MCP: Observability v0 (selection + graph)","description":"## Goal\nExpose Scaffa’s *authoritative* workspace + preview context (the same state consumed by the Workbench UI) to external AI coding tools via an MCP server, starting with **read-only observability** focused on current selection + project graph.\n\n## Context\n- New contract doc: `docs/scaffa_mcp_server_contract.md`\n- MCP is a **northbound** surface (peer to the renderer), not part of the runtime adapter.\n- Must preserve the Electron multi-process boundaries in `docs/index.md` and `docs/scaffa_ipc_boundaries_and_sequences.md`.\n\n## Scope (v0)\n- Streamable HTTP MCP server (localhost-only by default) providing read-only resources for:\n  - current selection (per preview session)\n  - project graph snapshot (+ revision)\n  - effective component registry lookup for selected `componentTypeId` (to ground AI suggestions)\n  - session list/state (so “no active preview” is explicit)\n\n## Non-Goals (v0)\n- Any mutation tools (no applying overrides, no starting/stopping sessions)\n- Headless Scaffa required mode\n- Exposing raw filesystem read/write via MCP\n\n## Acceptance Criteria\n- When Scaffa desktop is running with a workspace loaded, an MCP client can connect on localhost and read:\n  - current selection state\n  - graph snapshot state\n- The shapes exposed are aligned with existing contracts (`ComponentTypeId`, `InstanceDescriptor`, graph schema v0).\n- No mutation capabilities are exposed in v0.\n","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-11T13:19:19.191446-08:00","created_by":"dhiester","updated_at":"2026-01-12T17:52:54.457086-08:00","labels":["ai","architecture","mcp","observability","v0"]}
{"id":"skaffa-g5p.1","title":"MCP: Define v0 resource surface + schemas (selection/graph/registry)","description":"## Goal\nDefine the minimal MCP-facing resource surface for “observability v0” and map each resource onto existing Scaffa canonical types.\n\n## Scope\n- Decide initial resource names and response shapes (read-only):\n  - `scaffa.server.info`\n  - `scaffa.preview.sessions`\n  - `scaffa.preview.selection.current`\n  - `scaffa.workspace.graph.snapshot`\n  - `scaffa.workspace.registry.effective` (or targeted lookup-by-`ComponentTypeId`)\n- Explicitly document “workspace required” vs “preview session required” semantics.\n- Ensure all payloads are re-using (or trivially wrapping) existing shared protocol types/schemas.\n\n## Acceptance Criteria\n- Resource list and payload shapes are written down (in-code types or a short doc section) and match:\n  - `docs/scaffa_runtime_adapter_contract.md` (`InstanceDescriptor`)\n  - `docs/scaffa_project_graph_schema.md`\n  - `docs/scaffa_component_registry_schema.md`\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T13:19:29.55578-08:00","created_by":"dhiester","updated_at":"2026-01-12T19:07:53.763929-08:00","labels":["ai","architecture","mcp"],"dependencies":[{"issue_id":"skaffa-g5p.1","depends_on_id":"skaffa-g5p","type":"parent-child","created_at":"2026-01-11T13:19:29.55859-08:00","created_by":"dhiester"}]}
{"id":"skaffa-g5p.2","title":"MCP: Implement Streamable HTTP server (localhost + bearer token)","description":"## Goal\nRun an MCP server alongside the Scaffa desktop app that external CLI tools can connect to while Scaffa is running.\n\n## Scope\n- Implement Streamable HTTP transport for MCP in the Scaffa host layer.\n- Bind to loopback only (`127.0.0.1`/`::1`) by default.\n- Require a bearer token for all requests.\n- Provide a discoverable connection string for developers (log or UI affordance).\n\n## Acceptance Criteria\n- Starting Scaffa starts the MCP server; quitting Scaffa stops it.\n- Requests without the token are rejected.\n- Server is not reachable from non-localhost interfaces by default.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T13:19:39.894128-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:19:39.894128-08:00","labels":["electron","mcp","security"],"dependencies":[{"issue_id":"skaffa-g5p.2","depends_on_id":"skaffa-g5p","type":"parent-child","created_at":"2026-01-11T13:19:39.896148-08:00","created_by":"dhiester"},{"issue_id":"skaffa-g5p.2","depends_on_id":"skaffa-g5p.1","type":"blocks","created_at":"2026-01-11T13:19:39.89947-08:00","created_by":"dhiester"}]}
{"id":"skaffa-g5p.3","title":"MCP: Expose preview selection + session context (read-only)","description":"## Goal\nMake AI tools aware of the live preview context Scaffa already tracks: active sessions and the current selection.\n\n## Scope\n- Implement read-only resources for:\n  - active preview sessions (targets + readiness)\n  - current selection (per session or active session)\n- Enrich selection response with:\n  - whether the selected `componentTypeId` exists in the effective registry\n  - best-effort links to graph entities when available\n\n## Acceptance Criteria\n- With no session running: resource returns an explicit “no active session” shape (not a confusing error).\n- With a session running: selecting an instance in the preview updates the MCP-visible selection state.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T13:19:50.222435-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:19:50.222435-08:00","labels":["mcp","preview","selection"],"dependencies":[{"issue_id":"skaffa-g5p.3","depends_on_id":"skaffa-g5p","type":"parent-child","created_at":"2026-01-11T13:19:50.225174-08:00","created_by":"dhiester"},{"issue_id":"skaffa-g5p.3","depends_on_id":"skaffa-g5p.2","type":"blocks","created_at":"2026-01-11T13:19:50.22927-08:00","created_by":"dhiester"}]}
{"id":"skaffa-g5p.4","title":"MCP: Expose project graph snapshot (read-only)","description":"## Goal\nExpose Scaffa’s canonical project graph to external AI tools in a form that matches the Workbench UI’s view of the world.\n\n## Scope\n- Implement a read-only resource returning:\n  - full graph snapshot\n  - graph schema version\n  - current revision\n- (Optional follow-up) Provide a patch/subscription mechanism once client streaming behavior is validated.\n\n## Acceptance Criteria\n- MCP client can request the graph snapshot and receive a stable, schema-versioned response.\n- Response uses the same node/edge IDs and revision semantics described in `docs/scaffa_project_graph_schema.md`.\n","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T13:20:00.549291-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:20:00.549291-08:00","labels":["mcp","project-graph"],"dependencies":[{"issue_id":"skaffa-g5p.4","depends_on_id":"skaffa-g5p","type":"parent-child","created_at":"2026-01-11T13:20:00.551999-08:00","created_by":"dhiester"},{"issue_id":"skaffa-g5p.4","depends_on_id":"skaffa-g5p.2","type":"blocks","created_at":"2026-01-11T13:20:00.556314-08:00","created_by":"dhiester"}]}
{"id":"skaffa-g5p.5","title":"Docs: Add Claude Code / CLI setup notes for Scaffa MCP (localhost)","description":"## Goal\nMake it easy for internal engineers to connect a CLI-based AI tool to Scaffa’s MCP server during development.\n\n## Scope\n- Add a short guide describing:\n  - where the MCP server runs (localhost)\n  - how to obtain the token/URL\n  - how to configure Claude Code (or equivalent) to connect\n  - clear warning that the v0 surface is read-only\n\n## Acceptance Criteria\n- Internal engineer can connect a CLI tool to the running Scaffa instance without guessing configuration.\n","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T13:20:10.88529-08:00","created_by":"dhiester","updated_at":"2026-01-11T13:20:10.88529-08:00","labels":["devex","docs","mcp"],"dependencies":[{"issue_id":"skaffa-g5p.5","depends_on_id":"skaffa-g5p","type":"parent-child","created_at":"2026-01-11T13:20:10.887624-08:00","created_by":"dhiester"},{"issue_id":"skaffa-g5p.5","depends_on_id":"skaffa-g5p.2","type":"blocks","created_at":"2026-01-11T13:20:10.891704-08:00","created_by":"dhiester"}]}
{"id":"skaffa-gzm","title":"Demo: populate Routes + Graph panels from demo workspace","description":"## Summary\nEnsure the demo workspace reliably populates the Routes panel and Project Graph Snapshot panel on load.\n\n## Context\n- The demo app defines routes in `demo/app/src/routes.ts`.\n- There is a `demo/extensions/demo-graph-producer` that emits route + componentType nodes, but it is not currently enabled in `demo/scaffa.config.js`.\n- The React Router graph producer emits route nodes only.\n\n## Work\n- After the graph snapshot/revision fixes land, pick the simplest approach to populate the panels:\n  - Enable `demo-graph-producer` in `demo/scaffa.config.js`, or\n  - Add a small producer that converts the component registry into `componentType` nodes so Project Graph is richer without a bespoke demo producer.\n- Confirm the demo produces at least one route node for `/` and any relevant componentType nodes.\n\n## Notes\n- Keep this demo-specific and minimal; core should remain framework-agnostic.\n","acceptance_criteria":"- Opening the demo workspace shows at least one route (`/`) in Routes panel.\n- Project Graph Snapshot panel shows route node(s) and at least one componentType node.\n- Works without starting a preview session (graph comes from workspace-level producers).\n","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T16:57:11.438602-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T16:57:11.438602-08:00","labels":["demo","graph","routes"],"dependencies":[{"issue_id":"skaffa-gzm","depends_on_id":"skaffa-3nm","type":"blocks","created_at":"2026-01-13T16:57:48.757448-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-gzm","depends_on_id":"skaffa-dax","type":"blocks","created_at":"2026-01-13T16:58:13.156497-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-kej","title":"Fix layout-primitives-react tests failing under pnpm test (document is not defined)","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-18T16:02:57.520753-08:00","created_by":"Dan Hiester","updated_at":"2026-01-22T15:16:13.801519-08:00","closed_at":"2026-01-22T15:16:13.801519-08:00","close_reason":"Closed"}
{"id":"skaffa-njf","title":"Migration: move first-party modules into extension bundles","description":"## Goal\nMove existing first-party modules into the new extension bundle layout.\n\n## Scope\n- Move `modules/mui-registry`, `modules/react-router-graph-producer`, and `modules/sample-graph-producer` to `extensions/\u003cname\u003e/module`.\n- Update any build scripts, import paths, and references that assume `modules/` paths.\n- Update demo workspace `scaffa.config.*` entries to reference the new module paths.\n- Ensure module loading succeeds and existing functionality remains unchanged.\n\n## Non-Goals\n- Documentation updates.\n- New functionality in the moved modules.","acceptance_criteria":"- No modules remain under the top-level `modules/` directory.\n- Demo workspace loads modules from `extensions/**/module` paths without errors.\n- Module build and extension host loading succeed for moved modules.\n- No functional regressions in graph producers or registries after the move.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:36:09.039061-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T10:52:33.309171-08:00","closed_at":"2026-01-18T10:52:33.309171-08:00","close_reason":"Closed","labels":["extensions","modules","refactor"],"dependencies":[{"issue_id":"skaffa-njf","depends_on_id":"skaffa-owz","type":"blocks","created_at":"2026-01-17T23:36:09.044694-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-oqy","title":"Harness Model: Registry-driven instrumentation transform","description":"Implement dev-time instrumentation driven by the composed component registry so only registry-listed components are selectable/editable in Editor View.\\n\\nAcceptance:\\n- Define/extend registry or companion mapping for implementation hints (file/module + export)\\n- Vite plugin instruments matching workspace files and selected node_modules packages\\n- Avoid Rules-of-Hooks hazards (prefer export-level wrapper/boundary)\\n- Supports third-party registries (e.g. MUI) with Vite optimizeDeps tuning where needed\\n- Click-to-select yields componentTypeId join key for instrumented instances","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-16T08:30:24.78664-08:00","created_by":"Dan Hiester","updated_at":"2026-01-16T15:33:22.172218-08:00","closed_at":"2026-01-16T15:33:22.172222-08:00","labels":["harness","preview","registry","vite"]}
{"id":"skaffa-oto","title":"Align Vite launcher harness with docs (virtual module, no on-disk file)","description":"Current vite-launcher writes \".scaffa-harness.tsx\" into the app root and swaps index.html to that path. Docs specify a virtual harness module (e.g. /@scaffa/harness.tsx) served from the launcher without touching project files.\n\nUpdate the Vite launcher runner to serve a virtual harness module and avoid on-disk writes. Ensure transformIndexHtml points at the virtual module and preview still starts correctly.","acceptance_criteria":"- No .scaffa-harness.tsx file is written into the project\n- Harness module is served via Vite plugin (virtual module)\n- Preview sessions still boot and render the app\n- Related tests updated/added as needed","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-20T10:59:23.178592-08:00","created_by":"Dan Hiester","updated_at":"2026-01-22T08:03:57.229587-08:00","closed_at":"2026-01-22T08:03:57.229587-08:00","close_reason":"Closed"}
{"id":"skaffa-owz","title":"Infrastructure: support extension bundles (extensions/\u003cname\u003e/module + packages)","description":"## Goal\nUpdate workspace tooling to support the new extension bundle layout.\n\n## Scope\n- Add `extensions/\u003cname\u003e/module/` as the canonical location for extension-host modules.\n- Update module build tooling to pick up extension modules from `extensions/**/module`.\n- Update pnpm workspace globs to include `extensions/**/packages/*` for extension-owned runtime libraries.\n- Keep scaffa.config path resolution unchanged (still file-path based).\n\n## Non-Goals\n- Move any existing modules or packages (handled in a separate migration task).\n- Documentation updates.","acceptance_criteria":"- Module build script discovers and builds extension modules under `extensions/**/module`.\n- `pnpm-workspace.yaml` includes extension package globs and installs workspaces successfully.\n- Existing module loading continues to work for file paths (no runtime regressions).","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:35:52.477563-08:00","created_by":"Dan Hiester","updated_at":"2026-01-18T09:46:19.451361-08:00","closed_at":"2026-01-18T09:46:19.451361-08:00","close_reason":"Closed","labels":["extensions","modules","refactor"]}
{"id":"skaffa-ptx","title":"React Router graph producer: emit stable RouteId from route.id","description":"## Summary\nUpdate the React Router graph producer to use the router's explicit `route.id` (when present) as the canonical RouteId for graph nodes, instead of deriving IDs only from `path`.\n\n## Context\n- `docs/scaffa_project_graph_schema.md` recommends using explicit router ids when available for stable joins.\n- `modules/react-router-graph-producer/index.ts` parses `id` and `path` but currently builds nodes with `createRouteNode({ path })`, which derives RouteId from path and discards the explicit `id`.\n\n## Work\n- Decide RouteId encoding strategy for explicit ids (e.g. `route:\u003crouterId\u003e` or `routeId` field changes).\n- Update helper(s) or producer to emit nodes/edges with that RouteId.\n- Ensure Routes panel rendering is unaffected (it uses `node.path`), but future joins can use stable ids.\n\n## Notes\n- Keep compatibility in mind for existing `route:/`-style ids in sample/demo producers.\n","acceptance_criteria":"- Graph route node IDs are stable even when `path` is reused/index routes are present (where applicable).\n- Producer continues to parse and emit `path` for display/navigation.\n- Document the chosen RouteId encoding strategy for router ids.","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T16:57:21.861646-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T16:57:21.861646-08:00","labels":["graph","react-router"]}
{"id":"skaffa-q53","title":"Layout extension: Grid inspector section (custom UI)","description":"## Goal\nProvide a custom Grid inspector section for layout.grid that demonstrates extension-owned inspector UI.\n\n## Scope\n- Implement a grid-specific inspector section for layout.grid using the extension UI contributions pipeline.\n- Controls for columns (1..16), rows (1..16 optional), gap (0..16), align, justify, autoFlow.\n- Section shown only when selected componentTypeId is layout.grid.\n- Use existing override APIs to apply edits and respect validation semantics.","acceptance_criteria":"- Selecting a layout.grid instance shows the Grid inspector section in the right pane.\n- Changing controls updates overrides and preview updates immediately.\n- Section is hidden for non-layout.grid selections.\n- Works alongside core Inspector sections without regressions.","notes":"Grid removed from scope; defer custom Grid inspector until Grid primitive returns.","status":"closed","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T23:15:56.29804-08:00","created_by":"Dan Hiester","updated_at":"2026-01-17T23:46:20.333802-08:00","closed_at":"2026-01-17T23:46:20.333814-08:00","labels":["inspector","layout","ui"],"dependencies":[{"issue_id":"skaffa-q53","depends_on_id":"skaffa-dxx","type":"blocks","created_at":"2026-01-17T23:15:56.30364-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-q53","depends_on_id":"skaffa-1bg","type":"blocks","created_at":"2026-01-17T23:15:56.307239-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-rf3","title":"Demo workspace: adopt production-safe Scaffa shim in demo/app","description":"Decision: use a project-local scaffa-runtime shim with dev/prod split so production builds do not require @scaffa/*; implementation: add dev/prod shim files, configure Vite alias by mode, update app imports to shim, move @scaffa/react-runtime-adapter to devDependencies, ensure Scaffa dev workflows still work.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-15T20:48:28.020481-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T22:21:51.616927-08:00","closed_at":"2026-01-15T22:21:51.616927-08:00","close_reason":"Closed","labels":["demo","docs","runtime-adapter"]}
{"id":"skaffa-sib","title":"Demo workspace: Scaffa compatibility audit + hardening","description":"## Summary\nEnsure the `demo/` workspace is a \"known-good\" Scaffa workspace that reliably opens, starts preview sessions, selects registry-listed components, applies overrides, and remains aligned with the Harness Model docs.\n\n## Acceptance\n- `demo/` opens cleanly from the Launcher without manual tweaks.\n- `demo/scaffa.config.js` validates and activates expected modules.\n- App preview session starts via managed launcher (Vite) and reaches `ready`.\n- Preview mounts via Harness Model (virtual harness entry using `preview.entry` + `preview.styles`), with **no Scaffa imports required in `demo/app`**.\n- Only registry-listed component types are selectable/editable; selection yields `componentTypeId` join keys.\n- Overrides apply immediately and persist/replay correctly for the session target.\n- Demo docs remain accurate for launcher-based flow (managed default; attached-by-URL is an escape hatch).\n\n## Checklist (updated)\n- Validate `demo/app` contains no `ScaffaProvider` / `ScaffaInstance` / `useScaffaInstance` usage and no `@scaffa/*` runtime dependency in production builds.\n- Validate `demo/scaffa.config.js` includes `preview.entry` and `preview.styles` for harness mounting.\n- Validate Vite launcher starts the demo dev server using the project-installed Vite config (load + merge injected harness/instrumentation plugins).\n- Validate registry entries for demo components map to implementation targets (workspace file paths and/or package specifiers) sufficient for instrumentation.\n- Verify selection/editing works for at least Button + Card and reload restores overrides.\n- Validate override persistence path + gitignore expectations for `demo/.scaffa/` (or workspace-level override store location).\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T12:40:02.682472-08:00","created_by":"Dan Hiester","updated_at":"2026-01-16T08:39:08.869859-08:00","labels":["compat","demo","workspace"],"dependencies":[{"issue_id":"skaffa-sib","depends_on_id":"skaffa-dvw","type":"blocks","created_at":"2026-01-13T12:40:02.687036-08:00","created_by":"Dan Hiester"},{"issue_id":"skaffa-sib","depends_on_id":"skaffa-xv9","type":"blocks","created_at":"2026-01-17T19:10:27.393771-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-snh","title":"Editor View selection policy: remove Alt modifier (click-to-select) and reserve Alt/Option for Preview Mode","description":"## Goal\nAlign implementation with the v0 docs: **Editor View is click-to-select by default** (app interaction suppressed) and **Alt/Option inspect is reserved for Preview Mode (deferred)**.\n\n## Scope\n- Runtime adapter (React):\n  - Change input handlers to consume normal clicks for selection in Editor View.\n  - Ensure app click handlers/navigation do not fire in Editor View.\n  - Keep hover/selection highlighting behavior consistent.\n- Renderer UX copy/hints:\n  - Update `PreviewHint` and Inspector empty-state text to remove Alt/Option instructions for Editor View.\n- Docs are already updated; ensure code matches.\n\n## Acceptance\n- In Editor View, clicking selects instances (no modifier).\n- App interactions do not trigger in Editor View (no navigation/button handlers).\n- No UI copy references Alt/Option for Editor View.\n- Alt/Option inspect remains available only when Preview Mode is implemented (deferred tickets: scaffa-u9r, scaffa-5ss).\n\n## References\n- `docs/scaffa_preview_session_protocol.md` (Editor View click-to-select; Preview Mode uses modifier)\n- `docs/scaffa_runtime_adapter_contract.md`\n- `docs/scaffa_inspector_ux_semantics.md`\n\n## Code Pointers\n- `packages/react-runtime-adapter/src/adapter.ts`\n- `src/renderer/components/PreviewHint.tsx`\n- `src/renderer/components/InspectorPanel.tsx`\n","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-15T15:49:12.059174-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T16:26:11.599585-08:00","closed_at":"2026-01-15T16:26:11.599585-08:00","close_reason":"Closed","labels":["inspector","preview","runtime-adapter","v0"]}
{"id":"skaffa-t06","title":"Editor View navigation: route/URL controls without in-app clicks","description":"Because Editor View consumes all clicks for selection, define and implement a navigation affordance (e.g. Routes panel “navigate” action, or a URL bar) to change what screen/route the editor session is rendering without relying on in-app links.\n\nAcceptance:\n- User can navigate Editor View to a different route/screen via Scaffa UI.\n- Navigation affects only the editor session webcontents.\n","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T17:26:26.015833-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T17:27:28.362253-08:00"}
{"id":"skaffa-tr5","title":"Demo apps: align with production-safe Scaffa shim","description":"Now that docs recommend Scaffa runtime adapter integration be dev-only via a project-local shim, align demo apps to match (or explicitly document why demos intentionally ship Scaffa runtime adapter as a hard dependency).","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-15T20:42:27.845301-08:00","created_by":"Dan Hiester","updated_at":"2026-01-15T20:49:26.068508-08:00","closed_at":"2026-01-15T20:49:26.068508-08:00","close_reason":"Superseded by scaffa-rf3 (more concrete decision + implementation task).","labels":["demo","docs","runtime-adapter"]}
{"id":"skaffa-u2h","title":"Build fails: @tanstack/router-devtools RouterDevtools export mismatch","description":"## Context\n\nRunning the production build currently fails due to an invalid import from @tanstack/router-devtools.\n\n## Repro\n\n1. pnpm install --frozen-lockfile\n2. pnpm build\n\n## Error\n\nVite/Rollup reports:\n\n- \"RouterDevtools\" is not exported by \"@tanstack/router-devtools\" (imported in src/renderer/views/AppShell.tsx).\n\n## Notes\n\nLikely fixes:\n- Update import to the correct exported symbol for the installed version (e.g. TanStackRouterDevtools), OR\n- Gate devtools behind a dev-only conditional/dynamic import so production build excludes it.\n\n## Acceptance Criteria\n\n- pnpm build succeeds\n- Router devtools still function in dev mode\n","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-10T14:57:55.11218-08:00","created_by":"dhiester","updated_at":"2026-01-10T15:10:01.889629-08:00","closed_at":"2026-01-10T15:10:01.88965-08:00"}
{"id":"skaffa-u9r","title":"Preview Mode session: separate runtime for real interaction + restart-to-reset","description":"Add a distinct Preview Mode session UX that launches a separate preview session (purpose: preview) for the same target URL.\n\nPreview Mode is interact-by-default (navigation and clicks work normally), but still supports inspection via Alt/Option + click. Users can stop and re-launch Preview Mode to reset runtime state/baseline test data.\n\nAcceptance:\n- Can create/stop/recreate Preview Mode sessions independently of Editor View.\n- Default interaction passes through to the app; Alt/Option enables inspect gesture (hover highlight + Alt/Option+Click select).\n- Restarting Preview Mode yields a fresh runtime state.\n","notes":"Deferred: Preview Mode is postponed until after v0 Save-to-disk (promote draft overrides to code) is working.","status":"deferred","priority":2,"issue_type":"feature","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T17:26:15.560166-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T18:00:05.16363-08:00"}
{"id":"skaffa-ur0","title":"Save UX: show save results (applied vs failed overrides)","description":"Add user-facing feedback for Save-to-disk.\n\nAcceptance:\n- After Save, the UI shows a summary of what was applied vs what failed (and why).\n- For failures, provide a clear next action (open source, copy locator, clear draft override).\n- No silent dropping of draft overrides.\n","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T18:00:46.928394-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T18:00:46.928394-08:00"}
{"id":"skaffa-vy2","title":"Save-to-disk: stabilize instance locator beyond renderIndex","description":"Replace renderIndex-based instanceLocator with a more stable locator (e.g., source ref or explicit instance IDs) so save mapping survives reorders and reloads.","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T06:21:05.39217-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T06:21:05.39217-08:00"}
{"id":"skaffa-wtp","title":"Launcher: Open Workspace via preload → main","description":"## Summary\nWire the Launcher `Open Workspace` button to a host-owned folder picker and workspace load flow.\n\n## Acceptance\n- Clicking `Open Workspace` in Launcher triggers a folder picker owned by main process.\n- On success: workspace path is set, `scaffa.config.ts` is loaded/validated, extension host is started, renderer navigates to Workbench.\n- On invalid folder (missing/invalid `scaffa.config.ts`): show an actionable error in Launcher and remain there.\n- Canceling the dialog is a no-op (stays in Launcher, no errors).\n\n## Notes\n- Renderer requests only via preload API; no direct Electron/Node usage.\n- Reuse existing workspace loading code paths; this is mostly entry-point wiring.\n","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T12:39:15.109508-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T13:54:46.60651-08:00","closed_at":"2026-01-13T13:54:46.60651-08:00","close_reason":"Implemented launcher UI, workspace open wiring, recents, demo entry","labels":["ipc","launcher","ui","workspace"],"dependencies":[{"issue_id":"skaffa-wtp","depends_on_id":"skaffa-456","type":"blocks","created_at":"2026-01-13T12:39:15.113703-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-xhj","title":"Save-to-disk: add WorkspaceAPI bridge for extension host","description":"Implement extension-host WorkspaceAPI (readFile/applyEdits/watch) routed through main so save promoters don't read files directly and stay aligned with extension API docs.","status":"open","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-14T06:20:50.852321-08:00","created_by":"Dan Hiester","updated_at":"2026-01-14T06:20:50.852321-08:00","dependencies":[{"issue_id":"skaffa-xhj","depends_on_id":"skaffa-170","type":"relates-to","created_at":"2026-01-14T07:05:59.329031-08:00","created_by":"Dan Hiester"}]}
{"id":"skaffa-xv9","title":"Harness Model: implement registry-driven instrumentation (v0)","description":"Implement registry-driven instrumentation using ComponentImplementationHint matchers so only registry-listed components are selectable/editable. Align launcher behavior with docs/scaffa_component_registry_schema.md (5.1/5.2), docs/scaffa_harness_model.md (5.4-5.6), and docs/scaffa_runtime_adapter_integration_guide.md (2.2.1/2.2.2).","acceptance_criteria":"- Launcher builds an allowlist from registry implementation hints and applies transforms only to matched module ids (file + package hints).\\n- exportName defaults to default; missing exports log warnings with typeId + target.\\n- Package hints update Vite optimizeDeps.exclude narrowly for the referenced specifiers.\\n- Instrumentation wraps exports with an adapter boundary passing componentTypeId (adapter owns instanceId).\\n- Selection events include { instanceId, componentTypeId } for instrumented components.","status":"closed","priority":1,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-17T18:56:29.026499-08:00","created_by":"Dan Hiester","updated_at":"2026-01-17T19:59:14.376336-08:00","closed_at":"2026-01-17T19:59:14.376336-08:00","close_reason":"Implemented registry-driven instrumentation in vite-launcher. Added ComponentImplementationHint schema, updated runner.js with instrumentation plugin, added ScaffaInstanceBoundary HOC to react-runtime-adapter. All acceptance criteria met.","labels":["harness","preview","registry","vite"]}
{"id":"skaffa-ypb","title":"Experiment: AI-generated Scaffa extensions for existing codebases (far future)","description":"## Context\nSupporting arbitrary pre-existing codebases is a long-tail problem that depends on a mature Scaffa extension ecosystem.\n\n## Idea\nExplore an experimental workflow where a user triggers an AI analysis pass that:\n- inspects a codebase\n- identifies missing Scaffa capabilities (e.g. router adapter, graph producers, component registry, toolchain launcher)\n- proposes and/or authors the minimal set of Scaffa extensions needed to support that codebase\n\n## Non-Goals\n- Not required for v0.\n- Not a commitment to “brownfield works everywhere”.\n\n## Acceptance Criteria\n- A short written exploration exists (even a spike/prototype plan):\n  - which extension types could be generated\n  - safety/guardrail requirements (review, tests, determinism)\n  - what inputs/outputs are needed (codebase signals, generated artifacts)\n  - how this integrates with the Scaffa UX\n","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-11T15:12:46.727291-08:00","created_by":"dhiester","updated_at":"2026-01-11T15:12:46.727291-08:00","labels":["ai","experiments","extensions","product"]}
{"id":"skaffa-ywt","title":"Migrate LayoutSection to extension UI contributions pipeline","description":"## Goal\n\nMigrate the built-in LayoutSection component to use the extension UI contributions pipeline once the extension component loading mechanism is implemented.\n\n## Context\n\nCurrently, LayoutSection is rendered as a built-in component in InspectorPanel.tsx with an isLayoutType() check. It was designed to be extension-ready (self-contained, uses InspectorSectionContext-compatible props, standard override APIs) but implemented as built-in because ExtensionSection.tsx shows a placeholder - the component loading mechanism doesn't exist yet.\n\n## Scope\n\n1. Verify extension component loading mechanism is implemented (one of: custom protocol handler, extension-host HTTP endpoint, or pre-bundled renderer)\n2. Move LayoutSection.tsx to extensions/layout/module/inspector-sections/\n3. Bundle for the chosen loading mechanism\n4. Register via ctx.ui.registerInspectorSection() in extensions/layout/module/index.ts with shouldRender filter\n5. Remove built-in rendering from InspectorPanel.tsx\n6. Update tests to verify extension-based rendering\n\n## Acceptance Criteria\n\n- LayoutSection renders via extension UI contributions pipeline\n- Section only appears for layout.box/row/stack selections\n- All existing functionality works identically\n- Tests pass and cover extension-based rendering\n\n## Dependencies\n\nBlocked by: Implementation of extension component loading mechanism (see ExtensionSection.tsx comments for options)\n\n## Estimate\n\n3-4 hours (assumes loading mechanism exists)","status":"open","priority":3,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-19T10:49:40.542904-08:00","created_by":"Dan Hiester","updated_at":"2026-01-19T10:49:40.542904-08:00"}
{"id":"skaffa-z1c","title":"Docs: add Save-to-disk protocol contract","description":"Add a dedicated contract doc for Save-to-disk (validation timing + revert-on-failure + atomic save semantics) and link it from existing architecture docs so AI agents have a single source of truth.","notes":"Implemented in docs/* and linked from index/override/inspector/IPC/v0 journey.","status":"closed","priority":2,"issue_type":"task","owner":"dan.hiester@gmail.com","created_at":"2026-01-13T18:34:16.625713-08:00","created_by":"Dan Hiester","updated_at":"2026-01-13T18:34:30.116185-08:00","closed_at":"2026-01-13T18:34:30.116197-08:00"}
